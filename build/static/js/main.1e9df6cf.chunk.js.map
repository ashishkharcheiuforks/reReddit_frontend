{"version":3,"sources":["serviceWorker.js","urls/index.js","reducers/subreddit.js","actions/actionTypes.js","reducers/userAuth.js","reducers/userAuthModal.js","reducers/postDetail.js","utilities/reducerUtils/index.js","reducers/comments.js","reducers/postList.js","reducers/createPost.js","reducers/createSubreddit.js","reducers/editPost.js","reducers/search.js","reducers/index.js","utilities/apiErrorHandler/index.js","store.js","middleware/apiMiddleware/index.js","api/constants.js","api/apiUtils.js","api/Subreddit/index.js","api/UserAuth/index.js","actions/UserAuthModal/index.js","actions/UserAuth/index.js","actions/Subreddit/index.js","components/Buttons/LoadingButton/index.js","components/Buttons/NavSelectorButton/index.js","utilities/HOC/index.js","components/Buttons/SubscriptionButton/index.js","components/SideBar/index.js","components/Loaders/PanelLoader/index.js","components/Loaders/PanelListLoader/index.js","components/Loaders/SideBarLoader/index.js","components/Loaders/BlockLoader/index.js","components/Subreddit/index.js","containers/SubredditContainer/index.js","components/NavBar/NavBarDropdown.js","components/FieldGroup/index.js","components/SearchBar/index.js","actions/Search/index.js","api/Search/index.js","containers/SearchBarContainer/index.js","components/NavBar/index.js","components/UserButton/index.js","components/UserAuthNav/UnauthenticatedUser.js","components/UserAuthNav/AuthenticatedUser.js","components/UserAuthNav/index.js","containers/NavBarContainer/index.js","components/AlertMessage/index.js","components/UserAuthModal/index.js","components/ModalForm/FormButton/index.js","components/ModalForm/ModalLoginForm/index.js","containers/UserAuthModalContainer/LoginModalContainer.js","components/ModalForm/ModalRegisterForm/index.js","containers/UserAuthModalContainer/RegisterModalContainer.js","containers/UserAuthModalContainer/index.js","components/TextEditor/index.js","components/CreatePost/index.js","api/Posts/index.js","actions/Posts/index.js","containers/CreatePostContainer/index.js","components/Voter/index.js","actions/Voter/index.js","api/Voter/index.js","containers/VoterContainer/index.js","components/EllipsisButton/index.js","components/ShareButton/index.js","components/PostPanel/index.js","containers/PostPanelContainer/index.js","components/PostList/EmptyPostList.js","components/PostList/index.js","containers/PostListContainer/index.js","components/PostDetail/PostInfoLine.js","containers/PostEditorContainer/index.js","api/Comments/index.js","actions/Comments/index.js","containers/CommentEditorContainer/index.js","components/Comment/CommentInfoLine/index.js","components/Comment/CommentBody/index.js","components/Comment/ExpandedComment/index.js","components/Comment/CollapsedComment/index.js","components/Comment/index.js","containers/CommentContainer/index.js","components/CommentTreeList/index.js","containers/CommentTreeListContainer/index.js","components/PostDetail/index.js","containers/PostDetailContainer/index.js","components/CreateSubreddit/index.js","containers/CreateSubredditContainer/index.js","containers/SubscriptionButtonContainer/index.js","components/SubredditPanel/index.js","containers/SubredditPanelContainer/index.js","components/SubredditList/index.js","components/SearchResults/index.js","containers/SearchResultsContainer/index.js","index.js"],"names":["Boolean","window","location","hostname","match","SUBREDDIT_URL","title","concat","initialState","loading","error","description","subscriptionLoading","getSubredditTitle","state","subreddit","arguments","length","undefined","action","type","Object","objectSpread","data","token","username","pk","subs","moderated_subs","getAuthUsername","userAuth","getAuthUserSubredditTitles","map","showModal","displayType","errorMessage","successMessage","userAuthModal","warningMessage","body","poster","getPostDetailTitle","postDetail","getPostDetailBody","getPostDetailPosterUsername","getPostDetailPk","getPostDetailLoading","poster_username","updateObjectOnVote","oldObj","voteType","voteState","voteDisplayState","newVoteState","newUpvotes","upvotes","allIds","objList","idLabel","forEach","obj","push","objectById","updateFcn","objById","postsById","postList","post","vote_state","subreddit_title","rest","objectWithoutProperties","posterUsername","subredditTitle","addComment","newComment","updatedComment","created","newRoots","rootCommentIds","slice","splice","addRootCommentId","commentsById","defineProperty","parent","newCommentsById","parentId","oldParent","children","newChildren","newParent","addChildCommentId","updateComment","id","newProps","oldObject","newValues","oldComment","postersById","createCommentError","createCommentLoading","getRootCommentPks","comments","getCommentById","getPosterByCommentId","posterId","getCommentsLoading","entities","posters","result","commentId","comment","vote_type","deleted","allPosts","deletionPostId","deleteError","getPostById","getAllPosts","postId","Number","_state$postsById","_toPropertyKey","newAllPosts","toConsumableArray","deletionIndex","indexOf","deletePost","posts","creating","getCreatePostLoading","createPost","getCreatePostError","newSubredditData","getCreateSubredditError","createSubreddit","getCreateSubredditLoading","showDetailPostEditor","getPostEditorShowState","editPost","getEditPostError","getEditPostLoading","query","allSubreddits","subredditsById","allUsers","usersById","searchResultsView","getSearchError","search","getSearchLoading","getSearchQuery","getSearchAllSubreddits","getSearchAllUsers","getSearchSubredditById","getSearchResultsView","users","subreddits","viewName","rootReducer","combineReducers","apiRequestErrorHandler","e","console","log","response","erd","detail","non_field_errors","key","keys","errorField","String","charAt","toUpperCase","substring","status","statusText","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","storage","persistedReducer","persistReducer","store","createStore","applyMiddleware","next","startsWith","callAPI","types","successActionCreator","failureActionCreator","request","dispatch","then","success","getState","catch","Promise","reject","failure","thunkMiddleware","persistor","persistStore","API_ROOT_URL","process","VOTE_URL","COMMENT_LIST_URL","COMMENT_DETAIL_URL","commentPk","SUB_LIST_URL","SUB_DETAIL_URL","USER_LIST_URL","POST_LIST_URL","POST_DETAIL_URL","tokenContextObj","headers","Authorization","subredditSubscribeApi","subAction","axios","SUB_SUBSCRIBE_URL","userUpdateApi","get","USER_DETAIL_URL","showUserAuthModal","hideUserAuthModal","updateErrorMessage","makeUserLoginRequest","password","credentials","makeUserRegisterRequest","email","userData","registerSuccessLoginModal","userAuthLogout","makeSubDetailRequest","getSubDetailApi","makeCreateSubredditRequest","subredditData","createSubredditApi","makeSubSubscriptionRequest","onSuccessfulSubscription","makeUserUpdateRequest","LoadingButton","props","className","spinner","react_default","a","createElement","react_spinners","size","Button","assign","disabled","NavSelectorButton","active","onClick","activeStyle","opacity","borderBottom","style","withEither","conditionalRenderingFn","EitherComponent","Component","withMaybe","SubscriptionButton","authenticatedUsername","userSubscriptions","includes","_ref2","makeSubscriptionRequest","_ref","SideBar","userSubs","subscribed","Buttons_SubscriptionButton","history","PanelLoader","Panel","Body","color","PanelListLoader","panelNumber","panelList","Array","Loaders_PanelLoader","defaultProps","SideBarLoader","BlockLoader","Subreddit","skinny","primaryComponent","skinnyContainer","SideBarWithLoader","SubredditContainer","this","params","fetchSubDetail","prevProps","components_Subreddit","connect","sub","moderated","NavBarDropdown","subscribedSubs","lib","exact","to","MenuItem","eventKey","NavDropdown","divider","FieldGroup","label","help","FormGroup","controlId","ControlLabel","FormControl","HelpBlock","SearchBar","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","setState","target","value","handleSearchSubmit","bind","assertThisInitialized","preventDefault","handleSearchRequest","forceUpdate","_this$props","Navbar","Form","pullLeft","onSubmit","components_FieldGroup","placeholder","name","onChange","Buttons_LoadingButton","withRouter","makeSearchRequest","q","searchApi","setSearchQuery","components_SearchBar","NavBar","inverse","fixed","fluid","Header","Brand","NavLink","Nav","NavBar_NavBarDropdown","containers_SearchBarContainer","UserButton","userButtonId","inverted","UnauthenticatedUser","middleWareTest","pullRight","NavItem","components_UserButton","AuthenticatedUser","handleLogout","UserAuthNav","UserAuthNav_AuthenticatedUser","UserAuthNav_UnauthenticatedUser","NavBarContainer","render","components_NavBar","components_UserAuthNav","pure","SuccessAlert","Alert","bsStyle","fa","align","ErrorAlert","ErrorAlertWithError","UserAuthModal","eMessage","handleHide","formComponent","messageProps","sMessage","AlertMessage_SuccessAlert","AlertMessage_ErrorAlert","Modal","onHide","show","closeButton","Title","FormButton","handleClick","ModalLoginForm","handleSubmit","handleLogin","autoFocus","ModalForm_FormButton","components_UserAuthModal","ModalForm_ModalLoginForm","ModalRegisterForm","handleRegister","ModalForm_ModalRegisterForm","UserAuthModalContainer_LoginModalContainer","UserAuthModalContainer_RegisterModalContainer","TextEditor","handleSubmitClick","editorHtml","initialValue","formats","modules","toolbar","header","font","list","indent","quillNode","React","createRef","focusOnEditor","current","focus","html","_this2","usage","onBlur","submitButtonWord","react","react_quill_lib_default","ref","CreatePost","handleTitleChange","handleCreatePost","replace","CreatePostErrorAlert","components_TextEditor","handleCommentSubmit","getSubPostListApi","orderBy","orderby","SUB_POST_LIST_URL","createPostApi","CREATE_POST_URL","makeUpdatePostRequest","patch","updatePostApi","makeDeletePostRequest","onDeletePostRequest","delete","deletePostApi","makePostDetailRequest","getPostDetailApi","CreatePostContainer","components_CreatePost","makeCreatePostRequest","Voter","upvotedStyle","downvotedStyle","displayState","handleVote","makeVoteRequest","voteData","onVoteSuccess","itemType","itemPk","itemFn","item_fn","voteApi","hasOwnProperty","ReferenceError","ownProps","components_Voter","EllipsisButton","Dropdown","Toggle","noCaret","Menu","ShareButton","toggleTooltip","showTooltip","copyToClipboard","copyNode","select","document","execCommand","setTimeout","copyTooltip","Tooltip","shareUrl","OverlayTrigger","placement","overlay","trigger","delayHide","bsSize","readOnly","aria-hidden","PostPanel","handlePanelClick","HTMLDivElement","_this$props2","authUsername","handleDeletePost","AuthEllipsis","showEllipsis","containers_VoterContainer","Link","href","components_ShareButton","onSelect","postPk","components_PostPanel","EmptyPostList","Loaders_PanelListLoader","PostList_EmptyPostList","postPanels","containers_PostPanelContainer","PostListContainer","fetchPostList","components_PostList","makeSubPostListRequest","PostInfoLine","_handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","t0","onEditorSubmitSuccess","stop","_x","apply","getCommentTreeApi","config","POST_COMMENT_TREES_URL","normalizeCommentTreeOnSuccess","nestedComments","posterSchema","schema","Entity","idAttribute","commentSchema","commentListSchema","define","normalizedComments","normalize","entries","slicedToArray","makeCreateCommentRequest","commentData","parentPk","parent_fn","rootComment","createCommentApi","makeDeleteCommentRequest","deleteCommentApi","makeUpdateCommentRequest","updateCommentApi","commentBody","onEditorSubmit","CommentInfoLine","upvotesLabel","CommentBody","handleDeleteComment","handleToggleReplyEditor","handleToggleUpdateEditor","dangerouslySetInnerHTML","__html","ExpandedComment","showReplyEditor","showUpdateEditor","childrenList","handleCollapse","handleToggleCollapse","ReplyEditorWithHide","showEditor","CommentEditorContainer","CommentBodyWithDeleteAndUpdateEditor","Comment_CommentInfoLine","CollapsedComment","handleExpansion","io","Comment","collapsed","childrenPk","isArray","childPk","containers_CommentContainer","CollapsibleComment","posterData","components_Comment","CommentTreeList","rootCommentPks","commentRootList","rootPk","AlertOnError","CommentListWithLoading","containers_CommentEditorContainer","CommentTreeListContainer","fetchCommentList","components_CommentTreeList","createdComment","PostDetail","scrollToCommentList","scrollTo","top","commentListNode","offsetTop","behavior","handleDelete","commentScroll","showPostEditor","togglePostEditor","Loaders_BlockLoader","PostDetail_PostInfoLine","containers_PostEditorContainer","containers_CommentTreeListContainer","PostDetailContainer","fetchPostDetail","editPostError","components_PostDetail","CreateSubreddit","handleDescriptionChange","handleCreateSubreddit","componentClass","CreateSubredditContainer","components_CreateSubreddit","SubredditPanel","handleSubredditRedirect","members","containers_SubscriptionButtonContainer","SubredditPanelContainer","components_SubredditPanel","SubredditList","subredditList","subredditPk","containers_SubredditPanelContainer","SearchResults","resultsView","changeResultsView","ConditionalResultsList","view","PostList","Buttons_NavSelectorButton","SearchResultsContainer","searchRequest","components_SearchResults","setSearchResultsView","ReactDOM","es","integration_react","BrowserRouter","containers_NavBarContainer","containers_UserAuthModalContainer","Switch","Route","path","containers_SubredditContainer","containers_CreatePostContainer","containers_PostDetailContainer","containers_PostListContainer","containers_CreateSubredditContainer","containers_SearchResultsContainer","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1e9df6cf.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const SEARCH_URL = \"/search\";\n\nexport const SUBREDDIT_URL = title => `/r/${title}`;\nexport const HOME_SUBREDDIT_URL = \"\";\n\n// compare urls disregarding the trailing slash\nexport const urlMatch = (first, second) => {\n  return first === second || `${first}/` === second || first === `${second}/`;\n};\n","import {\n  FETCH_SUB_DETAIL_REQUEST,\n  FETCH_SUB_DETAIL_SUCCESS,\n  FETCH_SUB_DETAIL_FAILURE,\n  SET_SUB_TO_HOME,\n  SUBREDDIT_SUBSCRIBE_REQUEST,\n  SUBREDDIT_SUBSCRIBE_FAILURE,\n  SUBREDDIT_SUBSCRIBE_SUCCESS,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  title: null,\n  description: null,\n  subscriptionLoading: false,\n}\n\nconst subreddit = (state=initialState, action) => {\n  switch (action.type) {\n    case FETCH_SUB_DETAIL_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      }\n    case FETCH_SUB_DETAIL_SUCCESS:\n     return {\n       ...state,\n       loading: false,\n       error: null,\n       title: action.data.title,\n       description: action.data.description,\n     };\n    case FETCH_SUB_DETAIL_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      }\n    case SET_SUB_TO_HOME:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        title: action.title,\n      }\n    case SUBREDDIT_SUBSCRIBE_REQUEST:\n      return {\n        ...state,\n        subscriptionLoading: true,\n      }\n    case SUBREDDIT_SUBSCRIBE_SUCCESS:\n      return {\n        ...state,\n        subscriptionLoading: false,\n      }\n    case SUBREDDIT_SUBSCRIBE_FAILURE:\n      return {\n        ...state,\n        subscriptionLoading: false,\n      }\n    default:\n      return state;\n  }\n}\n\n// selectors\n\nexport const getSubredditTitle = (state) => state.subreddit.title;\n\nexport default subreddit;\n","export const FETCH_POST_COMMENT_TREES_REQUEST =\n  \"FETCH_POST_COMMENT_TREES_REQUEST\";\nexport const FETCH_POST_COMMENT_TREES_SUCCESS =\n  \"FETCH_POST_COMMENT_TREES_SUCCESS\";\nexport const FETCH_POST_COMMENT_TREES_FAILURE =\n  \"FETCH_POST_COMMENT_TREES_FAILURE\";\nexport const CREATE_COMMENT_REQUEST = \"CREATE_COMMENT_REQUEST\";\nexport const CREATE_COMMENT_SUCCESS = \"CREATE_COMMENT_SUCCESS\";\nexport const CREATE_COMMENT_FAILURE = \"CREATE_COMMENT_FAILURE\";\nexport const DELETE_COMMENT_REQUEST = \"DELETE_COMMENT_REQUEST\";\nexport const DELETE_COMMENT_SUCCESS = \"DELETE_COMMENT_SUCCESS\";\nexport const DELETE_COMMENT_FAILURE = \"DELETE_COMMENT_FAILURE\";\nexport const UPDATE_COMMENT_REQUEST = \"UPDATE_COMMENT_REQUEST\";\nexport const UPDATE_COMMENT_SUCCESS = \"UPDATE_COMMENT_SUCCESS\";\nexport const UPDATE_COMMENT_FAILURE = \"UPDATE_COMMENT_FAILURE\";\nexport const COMMENT_VOTE_SUCCESS = \"COMMENT_VOTE_SUCCESS\";\n\nexport const VOTE_REQUEST = \"VOTE_REQUEST\";\nexport const VOTE_SUCCESS = \"VOTE_SUCCESS\";\nexport const VOTE_FAILURE = \"VOTE_FAILURE\";\n\nexport const SEARCH_REQUEST = \"SEARCH_REQUEST\";\nexport const SEARCH_SUCCESS = \"SEARCH_SUCCESS\";\nexport const SEARCH_FAILURE = \"SEARCH_FAILURE\";\nexport const SET_SEARCH_QUERY = \"SET_SEARCH_QUERY\";\nexport const SET_SEARCH_RESULTS_VIEW = \"SET_SEARCH_RESULTS_VIEW\";\n\nexport const FETCH_SUB_DETAIL_REQUEST = \"FETCH_SUB_DETAIL_REQUEST\";\nexport const FETCH_SUB_DETAIL_SUCCESS = \"FETCH_SUB_DETAIL_SUCCESS\";\nexport const FETCH_SUB_DETAIL_FAILURE = \"FETCH_SUB_DETAIL_FAILURE\";\nexport const SET_SUB_TO_HOME = \"SET_SUB_TO_HOME\";\nexport const SUBREDDIT_SUBSCRIBE_REQUEST = \"SUBREDDIT_SUBSCRIBE_REQUEST\";\nexport const SUBREDDIT_SUBSCRIBE_SUCCESS = \"SUBREDDIT_SUBSCRIBE_SUCCESS\";\nexport const SUBREDDIT_SUBSCRIBE_FAILURE = \"SUBREDDIT_SUBSCRIBE_FAILURE\";\nexport const CREATE_SUBREDDIT_REQUEST = \"CREATE_SUBREDDIT_REQUEST\";\nexport const CREATE_SUBREDDIT_SUCCESS = \"CREATE_SUBREDDIT_SUCCESS\";\nexport const CREATE_SUBREDDIT_FAILURE = \"CREATE_SUBREDDIT_FAILURE\";\nexport const DELETE_SUBREDDIT_REQUEST = \"DELETE_SUBREDDIT_REQUEST\";\nexport const DELETE_SUBREDDIT_SUCCESS = \"DELETE_SUBREDDIT_SUCCESS\";\nexport const DELETE_SUBREDDIT_FAILURE = \"DELETE_SUBREDDIT_FAILURE\";\n\nexport const FETCH_POST_LIST_REQUEST = \"FETCH_POST_LIST_REQUEST\";\nexport const FETCH_POST_LIST_SUCCESS = \"FETCH_POST_LIST_SUCCESS\";\nexport const FETCH_POST_LIST_FAILURE = \"FETCH_POST_LIST_FAILURE\";\nexport const FETCH_POST_DETAIL_REQUEST = \"FETCH_POST_DETAIL_REQUEST\";\nexport const FETCH_POST_DETAIL_SUCCESS = \"FETCH_POST_DETAIL_SUCCESS\";\nexport const FETCH_POST_DETAIL_FAILURE = \"FETCH_POST_DETAIL_FAILURE\";\nexport const CREATE_POST_REQUEST = \"CREATE_POST_REQUEST\";\nexport const CREATE_POST_SUCCESS = \"CREATE_POST_SUCCESS\";\nexport const CREATE_POST_FAILURE = \"CREATE_POST_FAILURE\";\nexport const DELETE_POST_REQUEST = \"DELETE_POST_REQUEST\";\nexport const DELETE_POST_SUCCESS = \"DELETE_POST_SUCCESS\";\nexport const DELETE_POST_FAILURE = \"DELETE_POST_FAILURE\";\nexport const UPDATE_POST_REQUEST = \"UPDATE_POST_REQUEST\";\nexport const UPDATE_POST_SUCCESS = \"UPDATE_POST_SUCCESS\";\nexport const UPDATE_POST_FAILURE = \"UPDATE_POST_FAILURE\";\nexport const POST_VOTE_SUCCESS = \"POST_VOTE_SUCCESS\";\nexport const TOGGLE_POST_EDITOR = \"TOGGLE_POST_EDITOR\";\n\nexport const USER_AUTH_LOGIN_REQUEST = \"USER_AUTH_LOGIN_REQUEST\";\nexport const USER_AUTH_LOGIN_SUCCESS = \"USER_AUTH_LOGIN_SUCCESS\";\nexport const USER_AUTH_LOGIN_FAILURE = \"USER_AUTH_LOGIN_FAILURE\";\nexport const USER_AUTH_REGISTER_REQUEST = \"USER_AUTH_REGISTER_REQUEST\";\nexport const USER_AUTH_REGISTER_SUCCESS = \"USER_AUTH_REGISTER_SUCCESS\";\nexport const USER_AUTH_REGISTER_FAILURE = \"USER_AUTH_REGISTER_FAILURE\";\nexport const USER_AUTH_UPDATE_REQUEST = \"USER_AUTH_UPDATE_REQUEST\";\nexport const USER_AUTH_UPDATE_SUCCESS = \"USER_AUTH_UPDATE_SUCCESS\";\nexport const USER_AUTH_UPDATE_FAILURE = \"USER_AUTH_UPDATE_FAILURE\";\nexport const USER_AUTH_LOGOUT_REQUEST = \"USER_AUTH_LOGOUT_REQUEST\";\nexport const USER_AUTH_LOGOUT_SUCCESS = \"USER_AUTH_LOGOUT_SUCCESS\";\nexport const USER_AUTH_LOGOUT_FAILURE = \"USER_AUTH_LOGOUT_FAILURE\";\n\nexport const SHOW_USER_AUTH_MODAL = \"SHOW_USER_AUTH_MODAL\";\nexport const HIDE_USER_AUTH_MODAL = \"HIDE_USER_AUTH_MODAL\";\nexport const UPDATE_USER_AUTH_MODAL_ERROR = \"UPDATE_USER_AUTH_MODAL_ERROR\";\n\nexport const API_SUB_DETAIL = \"API_SUB_DETAIL\";\nexport const API_SUB_POST_LIST = \"API_SUB_POST_LIST\";\nexport const API_SUBREDDIT_SUBSCRIBE = \"API_SUBREDDIT_SUBSCRIBE\";\nexport const API_CREATE_SUBREDDIT = \"API_CREATE_SUBREDDIT\";\nexport const API_USER_AUTH_UPDATE = \"API_USER_AUTH_UPDATE\";\nexport const API_USER_AUTH_LOGOUT = \"API_USER_AUTH_LOGOUT\";\nexport const API_USER_AUTH_LOGIN = \"API_USER_AUTH_LOGIN\";\nexport const API_USER_AUTH_REGISTER = \"API_USER_AUTH_REGISTER\";\nexport const API_CREATE_POST = \"API_CREATE_POST\";\nexport const API_DELETE_POST = \"API_DELETE_POST\";\nexport const API_UPDATE_POST = \"API_UPDATE_POST\";\nexport const API_POST_DETAIL = \"API_POST_DETAIL\";\nexport const API_POST_COMMENT_TREES = \"API_POST_COMMENT_TREES\";\nexport const API_CREATE_COMMENT = \"API_CREATE_COMMENT\";\nexport const API_DELETE_COMMENT = \"API_DELETE_COMMENT\";\nexport const API_UPDATE_COMMENT = \"API_UPDATE_COMMENT\";\nexport const API_VOTE = \"API_VOTE\";\nexport const API_SEARCH = \"API_SEARCH\";\n","import {\n  USER_AUTH_LOGIN_REQUEST,\n  USER_AUTH_LOGIN_SUCCESS,\n  USER_AUTH_LOGIN_FAILURE,\n  USER_AUTH_LOGOUT_REQUEST,\n  USER_AUTH_LOGOUT_SUCCESS,\n  USER_AUTH_LOGOUT_FAILURE,\n  USER_AUTH_UPDATE_SUCCESS\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  token: null,\n  username: null,\n  pk: null,\n  subs: [],\n  moderated_subs: [],\n  error: null,\n  loading: false\n};\n\nconst userAuth = (state = initialState, action) => {\n  switch (action.type) {\n    case USER_AUTH_LOGIN_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case USER_AUTH_LOGIN_SUCCESS:\n      return {\n        ...state,\n        token: action.data.token,\n        username: action.data.username,\n        pk: action.data.pk,\n        subs: action.data.subs,\n        moderated_subs: action.data.moderated_subs,\n        loading: false,\n        error: null\n      };\n    case USER_AUTH_LOGIN_FAILURE:\n      return {\n        ...state,\n        token: null,\n        loading: false,\n        error: action.error\n      };\n    case USER_AUTH_LOGOUT_SUCCESS:\n      return initialState;\n    case USER_AUTH_UPDATE_SUCCESS:\n      return {\n        ...state,\n        username: action.data.username,\n        subs: action.data.subs,\n        moderated_subs: action.data.moderated_subs,\n        loading: false,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\n\n// Selectors\n\nexport const getAuthUsername = state => state.userAuth.username;\nexport const getAuthUserToken = state => state.userAuth.token;\nexport const getAuthUserSubredditTitles = state =>\n  state.userAuth.subs.map(subreddit => subreddit.title);\n\nexport default userAuth;\n","import {\n  SHOW_USER_AUTH_MODAL,\n  HIDE_USER_AUTH_MODAL,\n  UPDATE_USER_AUTH_MODAL_ERROR,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  showModal: false,\n  displayType: null,\n  errorMessage: null,\n  successMessage: null,\n}\n\nconst userAuthModal = (state=initialState, action) => {\n  switch (action.type) {\n    case SHOW_USER_AUTH_MODAL:\n      return {\n          ...state,\n          showModal: true,\n          displayType: action.displayType,\n          errorMessage: action.warningMessage,\n          successMessage: action.successMessage,\n      };\n    case HIDE_USER_AUTH_MODAL:\n      return {\n        ...state,\n        showModal: false,\n        displayType: null,\n        errorMessage: null,\n        successMessage: null,\n      };\n    case UPDATE_USER_AUTH_MODAL_ERROR:\n      return {\n        ...state,\n        errorMessage: action.errorMessage,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userAuthModal;\n","import {\n  FETCH_POST_DETAIL_REQUEST,\n  FETCH_POST_DETAIL_SUCCESS,\n  FETCH_POST_DETAIL_FAILURE,\n  FETCH_POST_LIST_SUCCESS,\n  UPDATE_POST_SUCCESS,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  title: null,\n  body: null,\n  poster: null,\n  pk: null,\n  error: null,\n  loading: false,\n}\n\nconst postDetail = (state=initialState, action) => {\n  switch (action.type) {\n    case FETCH_POST_DETAIL_REQUEST:\n      return {\n        ...state,\n        error: null,\n        loading: true,\n      }\n    case FETCH_POST_DETAIL_SUCCESS:\n      return {\n        ...state,\n        title: action.data.title,\n        body: action.data.body,\n        poster: action.data.poster_username,\n        pk: action.data.pk,\n        loading: false,\n        error: null,\n      }\n    case FETCH_POST_DETAIL_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      }\n    case UPDATE_POST_SUCCESS:\n      return {\n        ...state,\n        body: action.data.body,\n      }\n    case FETCH_POST_LIST_SUCCESS:\n      // This makes the scroll to comments in PostDetail work\n      return {\n        ...state,\n        pk: null,\n      };\n    default:\n     return state;\n  }\n}\n\n// Selectors\n\nexport const getPostDetailTitle = (state) => state.postDetail.title;\nexport const getPostDetailBody = (state) => state.postDetail.body;\nexport const getPostDetailPosterUsername = (state) => state.postDetail.poster;\nexport const getPostDetailPk = (state) => state.postDetail.pk;\nexport const getPostDetailLoading = (state) => state.postDetail.loading;\n\n\n\nexport default postDetail;\n","// Help organize reducers\nexport function combineReducersWithRoot(rootReducer, reducers) {\n  return (state, action) => {\n    let newState = {...rootReducer(state, action)};\n    Object.keys(reducers).forEach((prop) => {\n      let propObj = state ? state[prop] : undefined;\n      newState[prop] = reducers[prop](propObj, action);\n    });\n    return newState;\n  }\n}\n\n// Update, avoid mutation\nexport function updateObject(oldObject, newValues) {\n  return { ...oldObject, ...newValues}\n}\n\n// Pretty much just for comments and posts\nexport function updateObjectOnVote(oldObj, voteType) {\n  const voteState = oldObj.voteDisplayState || 0;\n  const newVoteState = voteType\n  \n  const upvotes = oldObj.upvotes;\n  const newUpvotes = upvotes + (newVoteState - voteState)\n    \n  return ({\n    ...oldObj,\n    voteDisplayState: newVoteState,\n    upvotes: newUpvotes,\n  });\n}\n\n\n// Take an array of serialized objects and return array of ids only\nexport const allIds = (objList, idLabel='pk') => {\n  let allIds = [];\n  objList.forEach((obj) => {\n    allIds.push(obj[idLabel])\n  });\n  return allIds;\n}\n\n// Take an array of serialized objects and make a objectById object\nexport const objectById = (objList, updateFcn, idLabel='pk') => {\n  let objById = {};\n  objList.forEach((obj) => {\n    obj = updateFcn ? updateFcn(obj): obj;\n    objById[obj[idLabel]] = {...obj};\n  })\n  return objById\n}\n\n// post specific wrapper for objectById, need to rename some properties\nexport const postsById = (postList) => objectById(\n  postList,\n  (post) => {\n    const {\n      vote_state,\n      poster_username,\n      subreddit_title,\n      ...rest\n    } = post;\n    return {\n      voteDisplayState: vote_state,\n      posterUsername: poster_username,\n      subredditTitle: subreddit_title,\n      ...rest\n    };\n  }\n);\n","import {\n  FETCH_POST_COMMENT_TREES_REQUEST,\n  FETCH_POST_COMMENT_TREES_SUCCESS,\n  FETCH_POST_COMMENT_TREES_FAILURE,\n  CREATE_COMMENT_REQUEST,\n  CREATE_COMMENT_SUCCESS,\n  CREATE_COMMENT_FAILURE,\n  DELETE_COMMENT_REQUEST,\n  DELETE_COMMENT_SUCCESS,\n  DELETE_COMMENT_FAILURE,\n  UPDATE_COMMENT_REQUEST,\n  UPDATE_COMMENT_SUCCESS,\n  UPDATE_COMMENT_FAILURE,\n  COMMENT_VOTE_SUCCESS\n} from \"../actions/actionTypes\";\nimport { updateObjectOnVote, updateObject } from \"../utilities/reducerUtils\";\n\n// Returns an object with rootCommentIds property to\n// That includes the newcomment id at the top\nconst addRootCommentId = (state, newComment) => {\n  let newRoots = state.rootCommentIds.slice();\n  newRoots.splice(0, 0, newComment.pk);\n  return { rootCommentIds: newRoots };\n};\n\n// Returns a new commentsById object with the parent object\n// updated to include the new child\nconst addChildCommentId = (state, newComment) => {\n  const parentId = newComment.parent;\n  const oldParent = state.commentsById[parentId];\n  // This is a hack fix because the comment creation backend doesn't\n  // add a children array like it should. So if you comment on a nascent\n  // comment you will get an error because there is no children array\n  oldParent.children = oldParent.children || [];\n  const newChildren = oldParent.children.slice();\n  newChildren.splice(0, 0, newComment.pk);\n  const newParent = {\n    ...oldParent,\n    children: newChildren\n  };\n  return { ...state.commentsById, [parentId]: newParent };\n};\n\n// Handles adding the newComment id to either the rootCommentIds or\n// the children array of the parent (depending on which is appropriate)\n// Also adds the new comment to the commentsById object.\nconst addComment = (state, newComment) => {\n  // First to some fixes particular to a nacsent comment\n  const { vote_state, ...rest } = newComment;\n  const updatedComment = {\n    ...rest,\n    voteDisplayState: vote_state,\n    created: \"just now\"\n  };\n\n  // if it's a root comment\n  if (newComment.post) {\n    return {\n      ...addRootCommentId(state, updatedComment),\n      commentsById: { ...state.commentsById, [newComment.pk]: updatedComment }\n    };\n  } else if (newComment.parent) {\n    // or it it is a child comment\n    const newCommentsById = addChildCommentId(state, updatedComment);\n    return {\n      commentsById: {\n        ...newCommentsById,\n        [newComment.pk]: updatedComment\n      }\n    };\n  }\n};\n\n// Update a particular comment with id and new object properties newProps\nconst updateComment = (state, id, newProps) => {\n  const oldComment = state.commentsById[id];\n  return {\n    ...state,\n    commentsById: {\n      ...state.commentsById,\n      [id]: updateObject(oldComment, newProps)\n    }\n  };\n};\n\nconst initialState = {\n  commentsById: {},\n  postersById: {},\n  rootCommentIds: [],\n  error: null,\n  loading: false,\n  createCommentError: null,\n  createCommentLoading: false\n};\n\nconst comments = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_POST_COMMENT_TREES_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case FETCH_POST_COMMENT_TREES_SUCCESS:\n      return {\n        ...state,\n        commentsById: action.data.entities.comments,\n        postersById: action.data.entities.posters,\n        rootCommentIds: action.data.result,\n        error: null,\n        loading: false,\n        createCommentError: null\n      };\n    case FETCH_POST_COMMENT_TREES_FAILURE:\n      return {\n        ...state,\n        error: action.error\n      };\n    case CREATE_COMMENT_SUCCESS:\n      return {\n        ...state,\n        ...addComment(state, action.data),\n        createCommentLoading: false,\n        createCommentError: null\n      };\n    case CREATE_COMMENT_REQUEST:\n      return {\n        ...state,\n        createCommentLoading: true,\n        createCommentError: null\n      };\n    case CREATE_COMMENT_FAILURE:\n      return {\n        ...state,\n        createCommentLoading: false,\n        createCommentError: action.error\n      };\n    case COMMENT_VOTE_SUCCESS:\n      const commentId = action.data.comment;\n      return {\n        ...state,\n        commentsById: {\n          ...state.commentsById,\n          [commentId]: updateObjectOnVote(\n            state.commentsById[commentId],\n            action.data.vote_type\n          )\n        }\n      };\n    case DELETE_COMMENT_SUCCESS:\n      return updateComment(state, action.data.pk, {\n        deleted: true\n      });\n    case UPDATE_COMMENT_SUCCESS:\n      return updateComment(state, action.data.pk, {\n        ...action.data\n      });\n    default:\n      return state;\n  }\n};\n\n// // Selectors\n// Ordered array of root comments, based on api ordering\nexport const getRootCommentPks = state => state.comments.rootCommentIds;\n\nexport const getCommentById = (state, pk) => state.comments.commentsById[pk];\n\nexport const getPosterByCommentId = (state, pk) => {\n  const posterId = state.comments.commentsById[pk].poster;\n  return state.comments.postersById[posterId];\n};\n\nexport const getVoteDisplayStateById = (state, pk) =>\n  state.comments.commentsById[pk].voteDisplayState;\n\nexport const getCommentsLoading = state => state.comments.loading;\n\nexport default comments;\n","import {\n  FETCH_POST_LIST_REQUEST,\n  FETCH_POST_LIST_SUCCESS,\n  FETCH_POST_LIST_FAILURE,\n  POST_VOTE_SUCCESS,\n  DELETE_POST_REQUEST,\n  DELETE_POST_SUCCESS,\n  DELETE_POST_FAILURE,\n  SEARCH_SUCCESS,\n} from '../actions/actionTypes';\nimport {\n  updateObjectOnVote,\n  postsById,\n  allIds\n} from '../utilities/reducerUtils';\n\n// TODO: figure out why this descruture isnt working right on postsById.\n// For some reason rest still contains the postId element\nconst deletePost = (state, postId) => {\n  const {\n    [postId]: deletedOne ,\n    ...rest\n  } = state.postsById;\n  delete rest[postId];\n\n  const newAllPosts = [...state.allPosts];\n  const deletionIndex = newAllPosts.indexOf(postId);\n  newAllPosts.splice(deletionIndex,1);\n\n  return {\n    ...state,\n    postsById: {...rest},\n    allPosts: [...newAllPosts],\n    deletionPostId: null,\n  }\n}\n\nconst initialState = {\n  postsById: {},\n  allPosts: [],\n  loading: true,\n  error: null,\n  deletionPostId: null,\n  deleteError: null,\n}\n\nconst postList = (state=initialState, action) => {\n  switch (action.type) {\n    case FETCH_POST_LIST_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case FETCH_POST_LIST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        postsById: postsById(action.data),\n        allPosts: allIds(action.data),\n      };\n    case FETCH_POST_LIST_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      };\n    case POST_VOTE_SUCCESS:\n      const postId = action.data.post;\n      return {\n        ...state,\n        postsById: {\n          ...state.postsById,\n          [postId]: updateObjectOnVote(\n            state.postsById[postId],\n            action.data.vote_type,\n          ),\n        },\n      }\n    case DELETE_POST_REQUEST:\n      return {\n        ...state,\n        deleteError: null,\n        deletionPostId: Number(action.pk),\n      };\n    case DELETE_POST_SUCCESS:\n      return deletePost(state, state.deletionPostId)\n    case DELETE_POST_FAILURE:\n      return {\n        ...state,\n        deleteError: action.error,\n      }\n    case SEARCH_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        postsById: postsById(action.data.posts),\n        allPosts: allIds(action.data.posts),\n      }\n    default:\n      return state;\n  }\n};\n\n// selectors\nexport const getPostById = (state, pk) => state.postList.postsById[pk];\nexport const getPostBodyById = (state, pk) => (\n  getPostById(state, pk)\n    ? getPostById(state, pk).body\n    : null\n  );\nexport const getAllPosts = (state) => state.postList.allPosts;\n\nexport default postList;\n","import {\n  CREATE_POST_REQUEST,\n  CREATE_POST_SUCCESS,\n  CREATE_POST_FAILURE,\n} from '../actions/actionTypes';\n\n\nconst initialState = {\n  creating: false,\n  error: null,\n  loading: false,\n}\n\nconst createPost = (state=initialState, action) => {\n  switch (action.type) {\n    case CREATE_POST_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      };\n    case CREATE_POST_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case CREATE_POST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n      }\n    default:\n      return state;\n  }\n}\n\n// selectors\n\nexport const getCreatePostLoading = (state) => state.createPost.loading;\nexport const getCreatePostError = (state) => state.createPost.error;\n\nexport default createPost;\n","import {\n  CREATE_SUBREDDIT_REQUEST,\n  CREATE_SUBREDDIT_SUCCESS,\n  CREATE_SUBREDDIT_FAILURE,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  error: null,\n  loading: false,\n  newSubredditData: null,\n};\n\nconst createSubreddit = (state=initialState, action) => {\n  switch(action.type) {\n    case CREATE_SUBREDDIT_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: false,\n        newSubredditData: null,\n      };\n    case CREATE_SUBREDDIT_SUCCESS:\n      return {\n        ...state,\n        newSubredditData: action.data,\n        loading: false,\n        error: null,\n      };\n    case CREATE_SUBREDDIT_FAILURE:\n      return {\n        ...state,\n        newSubredditData: null,\n        loading: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n}\n\n// selectors\nexport const getCreateSubredditError = (state) => state.createSubreddit.error;\nexport const getCreateSubredditLoading = (state) => state.createSubreddit.loading;\n\nexport default createSubreddit;\n","\nimport {\n  TOGGLE_POST_EDITOR,\n  UPDATE_POST_REQUEST,\n  UPDATE_POST_SUCCESS,\n  UPDATE_POST_FAILURE,\n} from '../actions/actionTypes';\n\n\nconst initialState = {\n  showDetailPostEditor: false,\n  loading: false,\n  error: false,\n}\n\nconst editPost = (state=initialState, action) => {\n  switch(action.type) {\n    case TOGGLE_POST_EDITOR:\n      return {\n        ...state,\n        showDetailPostEditor: !state.showDetailPostEditor,\n      };\n    case UPDATE_POST_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      }\n    case UPDATE_POST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n      }\n    case UPDATE_POST_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n      }\n    default:\n      return state;\n  }\n};\n\n//\nexport const getPostEditorShowState = (state) => state.editPost.showDetailPostEditor;\nexport const getEditPostError = (state) => state.editPost.error;\nexport const getEditPostLoading = (state) => state.editPost.loading;\n\nexport default editPost;\n","import {\n  SEARCH_REQUEST,\n  SEARCH_SUCCESS,\n  SEARCH_FAILURE,\n  SET_SEARCH_QUERY,\n  SET_SEARCH_RESULTS_VIEW\n} from \"../actions/actionTypes\";\nimport { allIds, objectById } from \"../utilities/reducerUtils\";\n\nconst initialState = {\n  query: \"\",\n  allSubreddits: [],\n  subredditsById: {},\n  allUsers: [],\n  usersById: {},\n  searchResultsView: \"posts\",\n  error: null,\n  loading: false\n};\n\nconst search = (state = initialState, action) => {\n  switch (action.type) {\n    case SEARCH_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case SEARCH_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        allUsers: allIds(action.data.users),\n        usersById: objectById(action.data.users),\n        allSubreddits: allIds(action.data.subreddits),\n        subredditsById: objectById(action.data.subreddits)\n      };\n    case SEARCH_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case SET_SEARCH_QUERY:\n      return {\n        ...state,\n        query: action.query,\n        searchResultsView: \"posts\"\n      };\n    case SET_SEARCH_RESULTS_VIEW:\n      return {\n        ...state,\n        searchResultsView: action.viewName\n      };\n    default:\n      return state;\n  }\n};\n\nexport const getSearchUserResults = state => state.search.userResults;\nexport const getSearchSubredditResults = state => state.search.subredditResults;\nexport const getSearchError = state => state.search.error;\nexport const getSearchLoading = state => state.search.loading;\nexport const getSearchQuery = state => state.search.query;\nexport const getSearchAllSubreddits = state => state.search.allSubreddits;\nexport const getSearchAllUsers = state => state.search.allUsers;\nexport const getSearchSubredditById = (state, id) =>\n  state.search.subredditsById[id];\nexport const getSearchUserById = (state, id) => state.search.UsersById[id];\nexport const getSearchResultsView = state => state.search.searchResultsView;\n\nexport default search;\n","import { combineReducers } from 'redux';\n\nimport subreddit from './subreddit';\nimport userAuth from './userAuth';\nimport userAuthModal from './userAuthModal';\nimport postDetail from './postDetail';\nimport comments from './comments';\nimport postList from './postList';\nimport createPost from './createPost';\nimport createSubreddit from './createSubreddit';\nimport editPost from './editPost';\nimport search from './search';\n\nconst rootReducer = combineReducers({\n  subreddit,\n  userAuth,\n  userAuthModal,\n  postDetail,\n  comments,\n  postList,\n  createPost,\n  createSubreddit,\n  editPost,\n  search,\n});\n\nexport default rootReducer;\n","const apiRequestErrorHandler = (e) => {\n  console.log(e)\n  try {\n    console.log(\"Response: \" , e.response)\n    if (!e.response) {\n      return \"Network Error\";\n    } else if (e.response.data && typeof e.response.data != 'string') {\n      const erd = e.response.data;\n  \n      if (erd.detail){\n        return erd.detail;\n      }\n      if (erd.non_field_errors){\n        return erd.non_field_errors[0];\n      }\n      \n      // Handle field errors\n      const key = Object.keys(erd)[0];\n      const errorMessage = erd[key][0];\n      const errorField = String(key);\n      return (\n        errorField.charAt(0).toUpperCase() +\n        errorField.substring(1) + \":  \" +\n        errorMessage\n      );\n    } else { // There is no response data\n      return `${e.response.status}: ${e.response.statusText}`;\n    }\n  }\n  catch (error) {\n    console.log(error)\n    return \"Something went wrong, please contact the site administration.\"\n  }\n}\n\nexport default apiRequestErrorHandler;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport {persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport rootReducer from './reducers';\nimport { apiMiddleware } from './middleware/apiMiddleware';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const store = createStore(\n  persistedReducer,\n  composeEnhancers(applyMiddleware(apiMiddleware, thunkMiddleware))\n);\nexport const persistor = persistStore(store);\n","import apiRequestErrorHandler from '../../utilities/apiErrorHandler';\n\nexport const apiMiddleware = store => next => action => {\n  \n  if (action.type && action.type.startsWith(\"API_\")) {\n    const {\n      callAPI,\n      types,\n      successActionCreator,\n      failureActionCreator,\n    } = action;\n\n    typeof types.request === 'function'\n      ? store.dispatch(types.request) // let thunk handle it\n      : store.dispatch({type: types.request})\n    \n    \n    return callAPI()\n      .then(data => typeof types.success === 'function'\n        ? types.success(data, store.getState, store.dispatch)\n        : store.dispatch({\n            type: types.success,\n            data\n          })\n      )\n      .then(action => {\n        if (successActionCreator){\n          return store.dispatch(successActionCreator(action.data))\n        }\n      })\n      .catch(error => {\n        const errorMessage = apiRequestErrorHandler(error)\n        if (failureActionCreator) {\n          store.dispatch(failureActionCreator(errorMessage))\n        }\n        // In case the original callers are waiting on news of how this went\n        // see CreatePost for example\n        return Promise.reject(\n          store.dispatch({\n            type: types.failure,\n            error: errorMessage,\n          })\n        )\n      })\n  }\n  else {\n    return next(action)\n  }\n};\n","export const API_ROOT_URL = process.env.NODE_ENV === 'development'\n    ? process.env.REACT_APP_DEV_API_ROOT\n    : process.env.REACT_APP_PROD_API_ROOT;\n\nexport const SEARCH_URL = API_ROOT_URL + 'search/';\n  \nexport const VOTE_URL = API_ROOT_URL + 'vote/';\n\nexport const COMMENT_LIST_URL = API_ROOT_URL + 'comments/';\nexport const POST_COMMENT_TREES_URL = (postPk) => (\n  `${COMMENT_LIST_URL}post/${postPk}/`\n);\nexport const COMMENT_DETAIL_URL = (commentPk) => (\n  `${COMMENT_LIST_URL}${commentPk}/`\n);\n  \nexport const SUB_LIST_URL = API_ROOT_URL + 'subreddits/';\nexport const SUB_DETAIL_URL = (subredditTitle) => (\n  SUB_LIST_URL + 'sub/' + subredditTitle + '/'\n);\nexport const SUB_SUBSCRIBE_URL = (subredditTitle) => (\n  SUB_LIST_URL + 'sub/' + subredditTitle + '/subscribe/'\n);\nexport const CREATE_SUBREDDIT_URL = SUB_LIST_URL;\nexport const DELETE_SUBREDDIT_URL = SUB_DETAIL_URL;\n\nexport const USER_LIST_URL = API_ROOT_URL + 'users/';\nexport const USER_LOGIN_URL = USER_LIST_URL + 'login/';\nexport const USER_LOGOUT_URL = USER_LIST_URL + 'logout/';\nexport const USER_REGISTER_URL = USER_LIST_URL + 'create/';\nexport const USER_DETAIL_URL = (username) =>\n  USER_LIST_URL + `user/${username}/`;\n  \n\nexport const POST_LIST_URL = API_ROOT_URL + 'posts/';\nexport const SUB_POST_LIST_URL = (subredditTitle) => (\n  POST_LIST_URL + \"subreddit-list/\" + subredditTitle + '/'\n);\nexport const CREATE_POST_URL = (subredditTitle) => (\n  SUB_DETAIL_URL(subredditTitle) + 'post/'\n)\nexport const POST_DETAIL_URL = (postId) => POST_LIST_URL + postId + '/';\n","// If there is a token then grab set it, if not then return nothing\nexport const tokenContextObj = token =>\n  token\n    ? {\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      }\n    : {};\n","import axios from 'axios';\n\nimport {\n  SUB_DETAIL_URL,\n  SUB_SUBSCRIBE_URL,\n  CREATE_SUBREDDIT_URL,\n  DELETE_SUBREDDIT_URL,\n} from '../constants';\nimport { tokenContextObj } from '../apiUtils';\n\nexport const getSubDetailApi = (subredditTitle) => (\n  axios.get(SUB_DETAIL_URL(subredditTitle))\n  .then(response => response.data)\n)\n\nexport const subredditSubscribeApi = (subredditTitle, subAction, token) => {\n  const data = {action: subAction,}\n  return (\n    axios.post(SUB_SUBSCRIBE_URL(subredditTitle), data, tokenContextObj(token))\n      .then(response => response.data)\n  )\n}\n\nexport const createSubredditApi = (subredditData, token) => (\n  axios.post(CREATE_SUBREDDIT_URL, subredditData, tokenContextObj(token))\n    .then(response => response.data)\n)\n\nexport const deleteSubredditApi = (subredditPk, token) => (\n  axios.post(DELETE_SUBREDDIT_URL(subredditPk), tokenContextObj(token))\n    .then(response => response.data)\n)\n","import axios from 'axios';\n\nimport {\n  USER_LOGIN_URL,\n  USER_LOGOUT_URL,\n  USER_REGISTER_URL,\n  USER_DETAIL_URL\n} from '../constants';\nimport { tokenContextObj } from '../apiUtils';\n\nexport const userLoginApi = (credentials) => (\n  axios.post(\n      USER_LOGIN_URL,\n      credentials,\n    )\n    .then(response => response.data)\n);\n\nexport const userLogoutApi = (token) => (\n  axios.post(USER_LOGOUT_URL, null, tokenContextObj(token))\n    .then(response => response.data)\n  )\n\nexport const userRegisterApi = (userData) => (\n  axios.post(\n    USER_REGISTER_URL,\n    userData\n  )\n  .then(response => response.data)\n)\n\nexport const userUpdateApi = (username) => (\n  axios.get(USER_DETAIL_URL(username))\n  .then(response => response.data)\n)\n","import {\n  SHOW_USER_AUTH_MODAL,\n  HIDE_USER_AUTH_MODAL,\n  UPDATE_USER_AUTH_MODAL_ERROR,\n} from '../actionTypes';\n\nexport const showUserAuthModal = (\n  displayType,\n  successMessage = null,\n  errorMessage = null\n  ) => (\n  {\n    type: SHOW_USER_AUTH_MODAL,\n    displayType,\n    successMessage,\n    errorMessage,\n  }\n);\n\nexport const hideUserAuthModal = () => (\n  {\n    type: HIDE_USER_AUTH_MODAL,\n  }\n);\n\nexport const updateErrorMessage = (errorMessage) => (\n  {\n    type: UPDATE_USER_AUTH_MODAL_ERROR,\n    errorMessage,\n  }\n)\n","import {\n  USER_AUTH_LOGIN_REQUEST,\n  USER_AUTH_LOGIN_SUCCESS,\n  USER_AUTH_LOGIN_FAILURE,\n  USER_AUTH_REGISTER_REQUEST,\n  USER_AUTH_REGISTER_SUCCESS,\n  USER_AUTH_REGISTER_FAILURE,\n  USER_AUTH_UPDATE_REQUEST,\n  USER_AUTH_UPDATE_SUCCESS,\n  USER_AUTH_UPDATE_FAILURE,\n  USER_AUTH_LOGOUT_REQUEST,\n  USER_AUTH_LOGOUT_SUCCESS,\n  USER_AUTH_LOGOUT_FAILURE,\n  API_USER_AUTH_UPDATE,\n  API_USER_AUTH_LOGOUT,\n  API_USER_AUTH_LOGIN,\n  API_USER_AUTH_REGISTER,\n} from '../actionTypes';\n\nimport {\n  userLoginApi,\n  userLogoutApi,\n  userRegisterApi,\n  userUpdateApi,\n} from '../../api/UserAuth';\nimport {\n  showUserAuthModal,\n  hideUserAuthModal,\n  updateErrorMessage\n} from \"../UserAuthModal\";\n\nexport const makeUserLoginRequest = (username, password) => (\n  {\n    type: API_USER_AUTH_LOGIN,\n    types: {\n      request: USER_AUTH_LOGIN_REQUEST,\n      success: USER_AUTH_LOGIN_SUCCESS,\n      failure: USER_AUTH_LOGIN_FAILURE,\n    },\n    callAPI: () => userLoginApi({username, password}),\n    successActionCreator: hideUserAuthModal,\n    failureActionCreator: updateErrorMessage,\n  }\n)\n\nexport const makeUserRegisterRequest = (username, password, email) => (\n  {\n    type: API_USER_AUTH_REGISTER,\n    types: {\n      request: USER_AUTH_REGISTER_REQUEST,\n      success: USER_AUTH_REGISTER_SUCCESS,\n      failure: USER_AUTH_REGISTER_FAILURE,\n    },\n    callAPI: () => userRegisterApi({\n        username,\n        password,\n        email\n    }),\n    failureActionCreator: updateErrorMessage,\n    successActionCreator: registerSuccessLoginModal,\n  }\n)\n\n// Use a thunk and redux-thunk to get the token rather than prop drilling it\nexport const userAuthLogout = () => (dispatch, getState) => dispatch(\n  {\n    type: API_USER_AUTH_LOGOUT,\n    types: {\n      request: USER_AUTH_LOGOUT_REQUEST,\n      success: USER_AUTH_LOGOUT_SUCCESS,\n      failure: USER_AUTH_LOGOUT_FAILURE,\n    },\n    callAPI: () => userLogoutApi(getState().userAuth.token),\n  }\n);\n\n// When succesfully registered launch the login modal with\n// success message\nconst successMessage = \"User profile created! Please log in.\"\nconst registerSuccessLoginModal = () => showUserAuthModal(\n  'login',\n  successMessage\n)\n\n// Upon change to user backend we might need to reload the user data\nexport const makeUserUpdateRequest = (username) => (\n  {\n  type: API_USER_AUTH_UPDATE,\n  types: {\n    request: USER_AUTH_UPDATE_REQUEST,\n    success: USER_AUTH_UPDATE_SUCCESS,\n    failure: USER_AUTH_UPDATE_FAILURE,\n  },\n  callAPI: () => userUpdateApi(username),\n  }\n)\n","import {\n  FETCH_SUB_DETAIL_REQUEST,\n  FETCH_SUB_DETAIL_SUCCESS,\n  FETCH_SUB_DETAIL_FAILURE,\n  API_SUB_DETAIL,\n  SET_SUB_TO_HOME,\n  SUBREDDIT_SUBSCRIBE_REQUEST,\n  SUBREDDIT_SUBSCRIBE_SUCCESS,\n  SUBREDDIT_SUBSCRIBE_FAILURE,\n  API_SUBREDDIT_SUBSCRIBE,\n  CREATE_SUBREDDIT_REQUEST,\n  CREATE_SUBREDDIT_SUCCESS,\n  CREATE_SUBREDDIT_FAILURE,\n  DELETE_SUBREDDIT_REQUEST,\n  DELETE_SUBREDDIT_SUCCESS,\n  DELETE_SUBREDDIT_FAILURE,\n  API_CREATE_SUBREDDIT\n} from \"../actionTypes\";\n\nimport {\n  getSubDetailApi,\n  subredditSubscribeApi,\n  createSubredditApi\n} from \"../../api/Subreddit\";\nimport { makeUserUpdateRequest } from \"../../actions/UserAuth\";\n\nexport const makeSubDetailRequest = subredditTitle => ({\n  type: API_SUB_DETAIL,\n  types: {\n    request: FETCH_SUB_DETAIL_REQUEST,\n    success: FETCH_SUB_DETAIL_SUCCESS,\n    failure: FETCH_SUB_DETAIL_FAILURE\n  },\n  callAPI: () => getSubDetailApi(subredditTitle)\n});\n\nexport const makeCreateSubredditRequest = subredditData => (\n  dispatch,\n  getState\n) =>\n  dispatch({\n    type: API_CREATE_SUBREDDIT,\n    types: {\n      request: CREATE_SUBREDDIT_REQUEST,\n      success: CREATE_SUBREDDIT_SUCCESS,\n      failure: CREATE_SUBREDDIT_FAILURE\n    },\n    callAPI: () => createSubredditApi(subredditData, getState().userAuth.token)\n  });\n\n// Get token from redux-thunk\nexport const makeSubSubscriptionRequest = (subredditTitle, subAction) => (\n  dispatch,\n  getState\n) =>\n  dispatch({\n    type: API_SUBREDDIT_SUBSCRIBE,\n    types: {\n      request: SUBREDDIT_SUBSCRIBE_REQUEST,\n      success: onSuccessfulSubscription,\n      failure: SUBREDDIT_SUBSCRIBE_FAILURE\n    },\n    callAPI: () =>\n      subredditSubscribeApi(\n        subredditTitle,\n        subAction,\n        getState().userAuth.token\n      )\n  });\n\n// When the request is successful we need to not only\n// indicate it success in the subreddit state tree\n// but also retrieve the modified user data from the backend\nconst onSuccessfulSubscription = (data, getState, dispatch) => {\n  dispatch({\n    type: SUBREDDIT_SUBSCRIBE_SUCCESS,\n    data\n  });\n\n  const username = getState().userAuth.username;\n  return username\n    ? dispatch(makeUserUpdateRequest(getState().userAuth.username))\n    : null;\n};\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { CircleLoader } from 'react-spinners';\n\nimport './styles.css'\n\nconst LoadingButton = (props) => {\n  \n  const {\n    loading,\n    children,\n    className,\n    ...rest\n  } = props;\n  \n  const spinner = <CircleLoader size={20} className=\"display: inline-block\" />;\n  \n  return (\n    <div className=\"loading-button-container\">\n      <Button\n        {...rest}\n        className={ className || \"loading-button\"}\n        disabled={loading}\n        \n      >\n        {loading ? spinner : children}\n      </Button>\n    </div>\n  )\n}\n\nexport default LoadingButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./styles.css\";\n\nconst NavSelectorButton = props => {\n  const { active, children, onClick } = props;\n\n  const activeStyle = active\n    ? {\n        opacity: \"100\",\n        borderBottom: \"3px solid white\"\n      }\n    : {};\n\n  return (\n    <div\n      className=\"nav-selector-button-container\"\n      style={activeStyle}\n      onClick={onClick}\n    >\n      <p>{children}</p>\n    </div>\n  );\n};\n\nNavSelectorButton.propTypes = {\n  active: PropTypes.bool,\n  onClick: PropTypes.func\n};\n\nexport default NavSelectorButton;\n","import React from 'react';\n\nexport const withEither = (conditionalRenderingFn, EitherComponent) => (Component) => (props) =>\n  conditionalRenderingFn(props)\n    ? <EitherComponent {...props}/>\n    : <Component {...props}/>\n    \nexport const withMaybe = (conditionalRenderingFn) => (Component) => (props) =>\n  conditionalRenderingFn(props)\n    ? <Component {...props} />\n    : null\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { compose } from \"recompose\";\n\nimport \"./styles.css\";\nimport { withMaybe, withEither } from \"../../../utilities/HOC\";\n\nconst SubscribeButton = ({ makeSubscriptionRequest, subredditTitle }) => (\n  <Button\n    className=\"subscribe-button\"\n    onClick={() => makeSubscriptionRequest(subredditTitle, \"sub\")}\n  >\n    SUBSCRIBE\n  </Button>\n);\n\nconst UnSubscribeButton = ({ makeSubscriptionRequest, subredditTitle }) => (\n  <Button\n    className=\"subscribe-button\"\n    onClick={() => makeSubscriptionRequest(subredditTitle, \"unsub\")}\n  >\n    UNSUBSCRIBE\n  </Button>\n);\n\nconst subscriptionConditionFn = props =>\n  props.userSubscriptions.includes(props.subredditTitle);\nconst authenticatedConditionFn = props => props.authenticatedUsername;\n\nconst SubscriptionButton = compose(\n  withMaybe(authenticatedConditionFn),\n  withEither(subscriptionConditionFn, UnSubscribeButton)\n)(SubscribeButton);\n\nexport default SubscriptionButton;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nimport \"./styles.css\";\nimport { SubscriptionButton } from \"../Buttons\";\n\nconst SideBar = props => {\n  const {\n    title,\n    description,\n    makeSubscriptionRequest,\n    userSubs: { subscribed: userSubscriptions },\n    authenticatedUsername\n  } = props;\n\n  return (\n    <div className=\"sidebar-content\">\n      <div className=\"title\">r/{title}</div>\n\n      <div className=\"description\">{description}</div>\n      <SubscriptionButton\n        makeSubscriptionRequest={makeSubscriptionRequest}\n        userSubscriptions={userSubscriptions}\n        subredditTitle={title}\n        authenticatedUsername={authenticatedUsername}\n      />\n\n      <Button\n        id=\"create-post-button\"\n        className=\"sidebar-button\"\n        onClick={() => props.history.push(`/r/${props.title}/createPost`)}\n      >\n        CREATE POST\n      </Button>\n    </div>\n  );\n};\n\nexport default SideBar;\n","import React from 'react';\nimport { Panel } from 'react-bootstrap';\nimport { PulseLoader } from 'react-spinners';\n\nimport './styles.css';\n\nconst PanelLoader = () => (\n  <div>\n    <Panel>\n      <Panel.Body id=\"pulse-loader-panel-body\">\n          <PulseLoader className=\"panel-clip-loader\" color={'#BFEFFF'}/>\n      </Panel.Body>\n    </Panel>\n</div>    \n);\n\nexport default PanelLoader;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PanelLoader from '../PanelLoader';\n\nconst PanelListLoader = ({ panelNumber }) => {\n  \n  const panelList = [...Array(panelNumber).keys()].map(\n    (id) => <PanelLoader key={id} />\n  )\n  return (\n    <ul>\n      {panelList}\n    </ul>\n  )\n\n}\n\n\nPanelListLoader.propTypes = {\n  panelNumber: PropTypes.number,\n}\n\nPanelListLoader.defaultProps = {\n  panelNumber: 5,\n}\n\nexport default PanelListLoader;\n","import React from 'react';\nimport { PulseLoader } from 'react-spinners';\n\nimport './styles.css'\n\nconst SideBarLoader = () => (\n  <div className=\"sidebar-loader-container\">\n    <PulseLoader color={'#BFEFFF'}/>\n  </div>\n)\n\nexport default SideBarLoader;\n","import React from 'react';\nimport { PulseLoader } from 'react-spinners';\n\nimport './styles.css';\n\nconst BlockLoader = () => (\n  <div className=\"block-loader-container\">\n    <PulseLoader color={'#BFEFFF'} />\n  </div>\n)\n\nexport default BlockLoader;\n","import React from 'react';\n\nimport SideBar from '../SideBar';\nimport { SideBarLoader } from '../../components/Loaders';\nimport { withEither } from '../../utilities/HOC';\nimport './styles.css';\n\nconst Subreddit = ({skinny, primaryComponent, ...props}) => {\n\n  const skinnyContainer = skinny\n    ? 'skinny-container'\n    : \"\";\n    \n  const SideBarWithLoader = withEither(\n    (props) => props.loading, SideBarLoader\n  )(SideBar)\n  \n  return (\n    <div className={'subreddit-container ' + skinnyContainer}>\n      <div className='primary-container'>\n          {primaryComponent(props)}\n      </div>\n      <div className='sidebar-container'>\n        <SideBarWithLoader {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport default Subreddit;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  makeSubDetailRequest,\n  makeSubSubscriptionRequest\n} from \"../../actions/Subreddit\";\nimport { getAuthUsername } from \"../../reducers/userAuth\";\nimport Subreddit from \"../../components/Subreddit\";\n\nclass SubredditContainer extends Component {\n  componentDidMount() {\n    // a null subredditTitle implies we are at the home url\n    const subredditTitle = this.props.match.params.subredditTitle || \"home\";\n    this.props.fetchSubDetail(subredditTitle);\n  }\n\n  componentDidUpdate(prevProps) {\n    // a null subredditTitle implies we are at the home url\n    const subredditTitle = this.props.match.params.subredditTitle || \"home\";\n    if (\n      this.props.match.params.subredditTitle !==\n      prevProps.match.params.subredditTitle\n    ) {\n      this.props.fetchSubDetail(subredditTitle);\n    }\n  }\n\n  render() {\n    return <Subreddit {...this.props} />;\n  }\n}\n\nconst mapStateToProps = state => ({\n  title: state.subreddit.title,\n  description: state.subreddit.description,\n  loading: state.subreddit.loading,\n  userSubs: {\n    subscribed: state.userAuth.subs.map(sub => sub.title),\n    moderated: state.userAuth.moderated_subs.map(sub => sub.title)\n  },\n  authenticatedUsername: getAuthUsername(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchSubDetail: subredditTitle =>\n    dispatch(makeSubDetailRequest(subredditTitle)),\n  makeSubscriptionRequest: (subredditTitle, subAction) =>\n    dispatch(makeSubSubscriptionRequest(subredditTitle, subAction))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubredditContainer);\n","import React from \"react\";\nimport { NavDropdown, MenuItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport \"./styles.css\";\n\nconst NavBarDropdown = ({ subscribed }) => {\n  const subscribedSubs = subscribed.map(sub => (\n    <LinkContainer key={sub.pk} exact to={\"/r/\" + sub.title}>\n      <MenuItem eventKey={sub.pk}>{sub.title}</MenuItem>\n    </LinkContainer>\n  ));\n\n  return (\n    <NavDropdown\n      className=\"feed-dropdown\"\n      eventKey={3}\n      title=\"feed\"\n      id=\"basic-nav-dropdown\"\n    >\n      <LinkContainer exact to=\"/\">\n        <MenuItem eventKey={3.1}>Home</MenuItem>\n      </LinkContainer>\n      <LinkContainer exact to=\"/r/popular\">\n        <MenuItem eventKey={3.2}>Popular</MenuItem>\n      </LinkContainer>\n      <LinkContainer exact to=\"/r/all\">\n        <MenuItem eventKey={3.3}>All</MenuItem>\n      </LinkContainer>\n      <MenuItem divider eventKey={3.4} />\n      {subscribedSubs}\n    </NavDropdown>\n  );\n};\n\nexport default NavBarDropdown;\n","import React from 'react';\nimport {\n  FormControl,\n  FormGroup,\n  ControlLabel,\n  HelpBlock,\n} from 'react-bootstrap';\n\nconst FieldGroup = ({id, label, help, ...props}) => (\n  <FormGroup controlId={id}>\n    <ControlLabel>{label}</ControlLabel>\n    <FormControl{...props}>\n      {help && <HelpBlock>{help}</HelpBlock>}\n    </FormControl>\n  </FormGroup>\n);\n\nexport default FieldGroup;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport {\n  Navbar,\n  Nav,\n  FormGroup,\n  FormControl,\n  Button,\n} from 'react-bootstrap';\n\nimport FieldGroup from '../FieldGroup';\nimport { LoadingButton } from '../Buttons';\nimport { SEARCH_URL } from '../../urls';\nimport './styles.css';\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      query: ''\n    };\n    \n    this.handleSearchSubmit = this.handleSearchSubmit.bind(this);\n  }\n  \n  handleChange = (e) => {\n    this.setState({query: e.target.value});\n  }\n  \n  async handleSearchSubmit(e) {\n    e.preventDefault();\n    \n    try{\n      await this.props.handleSearchRequest(this.state.query);\n    } catch {\n      this.forceUpdate()\n    }\n    this.setState({query:''})\n    this.props.history.push(SEARCH_URL);\n  }\n  \n  render() {\n    \n    const {\n      loading,\n      error,\n    } = this.props;\n    \n    return (\n      <Navbar.Form pullLeft>\n        <form onSubmit={this.handleSearchSubmit}>\n          <FieldGroup\n            id=\"search-bar-input\"\n            type=\"text\"\n            placeholder=\"Search...\"\n            name=\"search\"\n            onChange={this.handleChange}\n            value={this.state.query}\n          />\n        <LoadingButton\n          type=\"submit\"\n          loading={loading}\n        >\n          Search\n        </LoadingButton>\n        </form>\n\n      </Navbar.Form>\n    )\n  }\n  \n}\n\nSearchBar.propTypes = {\n  handleSearchRequest: PropTypes.func,\n}\n\nexport default withRouter(SearchBar);\n","import {\n  SEARCH_REQUEST,\n  SEARCH_SUCCESS,\n  SEARCH_FAILURE,\n  API_SEARCH,\n  SET_SEARCH_QUERY,\n  SET_SEARCH_RESULTS_VIEW\n} from \"../actionTypes\";\n\nimport { searchApi } from \"../../api/Search\";\n\nexport const makeSearchRequest = q => {\n  return {\n    type: API_SEARCH,\n    types: {\n      request: SEARCH_REQUEST,\n      success: SEARCH_SUCCESS,\n      failure: SEARCH_FAILURE\n    },\n    callAPI: () => searchApi(q)\n  };\n};\n\nexport const setSearchQuery = q => ({\n  type: SET_SEARCH_QUERY,\n  query: q\n});\n\nexport const setSearchResultsView = (viewName = \"posts\") => ({\n  type: SET_SEARCH_RESULTS_VIEW,\n  viewName\n});\n","import axios from 'axios';\n\nimport { SEARCH_URL } from '../constants'\n\nexport const searchApi = (q) => (\n  axios.get(SEARCH_URL, {params: { q, }, })\n    .then(response => response.data)\n)\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport SearchBar from \"../../components/SearchBar\";\nimport { setSearchQuery } from \"../../actions/Search\";\n\nconst SearchBarContainer = props => {\n  const { handleSearchRequest } = props;\n\n  return <SearchBar {...{ handleSearchRequest }} />;\n};\n\nconst mapDispatchToProps = dispatch => ({\n  handleSearchRequest: q => dispatch(setSearchQuery(q))\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(SearchBarContainer);\n","import React from 'react';\nimport {\n  Navbar,\n  Nav,\n  FormGroup,\n  FormControl,\n  Button,\n} from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\n\nimport \"./styles.css\";\nimport NavBarDropdown from './NavBarDropdown';\nimport SearchBarContainer from '../../containers/SearchBarContainer';\n\nconst NavBar = ({children, subscribed}) => {\n  \n  return (\n    <Navbar inverse fixed=\"true\" fluid>\n      <Navbar.Header>\n        <Navbar.Brand>\n          <NavLink exact to=\"/\">reReddit</NavLink>\n        </Navbar.Brand>\n      </Navbar.Header>\n      \n      <Nav>\n        <NavBarDropdown subscribed={subscribed} />\n      </Nav>\n      <SearchBarContainer />\n      \n      {children}\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nimport './styles.css';\n\n\nconst UserButton = ({children, onClick, inverted}) => {\n  const userButtonId = inverted ? \"user-button-inverted\" : \"user-button-default\";\n  return (\n      <div>\n        <Button onClick={onClick} id={userButtonId} className=\"user-button\">\n          {children}\n        </Button>\n      </div>\n    );\n};\n\nexport default UserButton;\n","import React from 'react';\nimport {\n  Nav,\n  NavItem,\n} from 'react-bootstrap';\n\nimport UserButton from '../UserButton';\nimport './styles.css'\n\nconst UnauthenticatedUser = ({showModal, middleWareTest}) => {\n\n  return (\n    <Nav pullRight className=\"right-user-links\">\n      <NavItem eventKey={4}>\n        <UserButton onClick={() => showModal('login')} inverted>\n          login\n        </UserButton>\n      </NavItem>\n      <NavItem eventKey={5}>\n        <UserButton onClick={() => showModal('register')}>\n          sign up\n        </UserButton>\n      </NavItem>\n    </Nav>\n  );\n}\n\nexport default UnauthenticatedUser;\n","import React from 'react';\nimport {\n  Nav,\n  NavDropdown,\n  MenuItem,\n} from 'react-bootstrap';\n\nimport './styles.css'\n\nconst AuthenticatedUser = ({username,handleLogout}) => {\n  \n  return (\n    <Nav pullRight className=\"auth-dropdown-container\">\n          <NavDropdown \n            className='user-dropdown'\n            eventKey={3}\n            title={username}\n            id=\"user-nav-dropdown\"\n          >\n            <MenuItem eventKey={3.1}>Action</MenuItem>\n            <MenuItem eventKey={3.2}>Another action</MenuItem>\n            <MenuItem eventKey={3.3}>Something else here</MenuItem>\n            <MenuItem divider />\n            <MenuItem \n              eventKey={3.4}\n              onClick={() => handleLogout()}\n            >\n              Logout\n            </MenuItem>\n          </NavDropdown>\n    </Nav>    \n  );\n}\n\nexport default AuthenticatedUser;","import React from 'react';\n\n\n\nimport UnauthenticatedUser from './UnauthenticatedUser';\nimport AuthenticatedUser from './AuthenticatedUser';\n\nconst UserAuthNav = ({showModal, username, handleLogout,middleWareTest}) => {\n  return (\n    username ?\n    <AuthenticatedUser username={username} handleLogout={handleLogout} /> :\n    <UnauthenticatedUser showModal={showModal}/>\n  );\n}\n\nexport default UserAuthNav;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport NavBar from '../../components/NavBar';\nimport UserAuthNav from '../../components/UserAuthNav';\nimport { showUserAuthModal } from '../../actions/UserAuthModal';\nimport { userAuthLogout } from '../../actions/UserAuth';\n\n\nclass NavBarContainer extends Component {\n  render = () => (\n    <NavBar subscribed={this.props.subscribed}>\n      <UserAuthNav\n        showModal={this.props.showModal}\n        username={this.props.username}\n        handleLogout={this.props.handleLogout}\n      />\n    </NavBar>\n  );\n}\n\nconst mapStateToProps = state => (\n  {\n    username: state.userAuth.username,\n    subscribed: state.userAuth.subs,\n  }\n);\n\nconst mapDispatchToProps = dispatch => (\n  {\n    showModal: (displayType) => dispatch(showUserAuthModal(displayType)),\n    handleLogout: () => dispatch(userAuthLogout()),\n  }\n);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  null,\n  {pure: false},\n)(NavBarContainer)\n","import React from 'react';\nimport { Alert } from 'react-bootstrap';\nimport { FaTimes, FaCheck } from 'react-icons/fa';\n\nimport { withMaybe } from '../../utilities/HOC';\nimport './styles.css';\n\nexport const SuccessAlert = (props) => (\n  <Alert bsStyle='success' className='alert-message'>\n    <FaCheck color='green' size='3em' />\n    <p className=\"alert-text\" id='success-text' align='center'>\n      {props.children}\n    </p>\n  </Alert>\n)\n\n\nexport const ErrorAlert = (props) => (\n  <Alert bsStyle='danger' className='alert-message'>\n    <FaTimes color='red' size='3em' />\n    <p className=\"alert-text\" id='error-text' align='center'>\n      {props.children}\n    </p>\n  </Alert>\n)\n\nexport const ErrorAlertWithError = withMaybe(\n    (props) => props.children\n  )(ErrorAlert);\n","import React from 'react';\nimport { Modal } from 'react-bootstrap';\n\nimport './styles.css';\nimport { SuccessAlert, ErrorAlert } from '../AlertMessage';\n\nconst UserAuthModal = (props) => {\n  \n  const {\n    handleHide,\n    title,\n    formComponent,\n    messageProps,\n  } = props;\n  \n  const {\n    errorMessage,\n    successMessage,\n  } = messageProps;\n  \n  let eMessage, sMessage = null;\n  \n  if (successMessage) {\n    sMessage =\n      <SuccessAlert>\n        {successMessage}\n      </SuccessAlert>\n    }\n\n    if (errorMessage) {\n      eMessage =\n      <ErrorAlert>\n        {errorMessage}\n      </ErrorAlert>\n    }\n  \n  return (\n    <Modal\n      onHide={handleHide}\n      show\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {sMessage}\n        {eMessage}\n        {formComponent}\n      </Modal.Body>\n      \n    </Modal>\n  );\n}\n\nexport default UserAuthModal;\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { CircleLoader } from 'react-spinners';\n\nimport './styles.css'\n\nconst FormButton = (props) => {\n  \n  const {\n    bsStyle,\n    handleClick,\n    loading,\n    children,\n    type,\n  } = props;\n  \n  const spinnerStyle = 'display: inline-block;'\n  \n  const spinner = loading ?\n    <CircleLoader\n      size={20}\n      className={spinnerStyle}\n    /> :\n    null;\n\n  return (\n    <div id='single-button'>\n      <Button\n        bsStyle={bsStyle || null}\n        className='login-buttons'\n        onClick={() => handleClick()}\n        disabled={loading}\n        type={type || 'button'}\n      >\n        {spinner ? spinner : children}\n      </Button>\n    </div>\n  );\n}\n\nexport default FormButton;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\n\nimport FieldGroup from \"../../FieldGroup\";\nimport FormButton from \"../FormButton\";\nimport { HOME_SUBREDDIT_URL } from \"../../../urls\";\nimport \"./styles.css\";\n\nclass ModalLoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  async handleSubmit() {\n    try {\n      await this.props.handleLogin(this.state.username, this.state.password);\n      this.props.history.push(HOME_SUBREDDIT_URL);\n    } catch {\n      this.forceUpdate();\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"login-form-container\">\n        <form onSubmit={this.handleSubmit}>\n          <FieldGroup\n            id=\"formControlsText\"\n            label=\"Username:\"\n            type=\"text\"\n            value={this.state.username}\n            placeholder=\"username\"\n            name=\"username\"\n            onChange={this.handleChange}\n            autoFocus\n          />\n\n          <FieldGroup\n            id=\"formControlsPassword\"\n            label=\"Password:\"\n            type=\"password\"\n            value={this.state.password}\n            placeholder=\"password\"\n            name=\"password\"\n            onChange={this.handleChange}\n          />\n\n          <div id=\"button-container\">\n            <FormButton\n              bsStyle=\"primary\"\n              handleClick={this.handleSubmit}\n              loading={this.props.loading}\n              children=\"Login\"\n              type=\"submit\"\n            />\n\n            <FormButton\n              bsStyle=\"danger\"\n              handleClick={this.props.handleHide}\n              loading={this.props.loading}\n              children=\"Cancel\"\n            />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ModalLoginForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport UserAuthModal from '../../components/UserAuthModal';\nimport ModalLoginForm from \"../../components/ModalForm/ModalLoginForm\";\nimport { hideUserAuthModal } from '../../actions/UserAuthModal';\nimport { makeUserLoginRequest } from '../../actions/UserAuth';\n\nconst LoginModalContainer = (props) => {\n  const {\n    handleHide,\n    handleLogin,\n    loading,\n    messageProps,\n  } = props;\n  \n  return (\n    <UserAuthModal\n      handleHide={handleHide}\n      title='Login'\n      messageProps={messageProps}\n      formComponent={\n        <ModalLoginForm\n          handleLogin={handleLogin}\n          handleHide={handleHide}\n          loading={loading}\n        />\n      }\n    />\n  );\n}\n\nconst mapStateToProps = state => (\n  {\n    loading: state.userAuth.loading,\n  }\n);\n\nconst mapDispatchToProps = dispatch => (\n  {\n    handleHide: () => dispatch(hideUserAuthModal()),\n    handleLogin: (username, password) =>\n      dispatch(makeUserLoginRequest(username, password)),\n  }\n);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(LoginModalContainer);\n","import React, { Component } from 'react';\n\nimport FieldGroup from '../../FieldGroup';\nimport FormButton from '../FormButton';\nimport './styles.css'\n\nclass ModalRegisterForm extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.handleChange = this.handleChange.bind(this);\n    \n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n    };\n  }\n  \n  handleChange = (e) => {\n      this.setState({[e.target.name]: e.target.value});\n  }\n  \n  handleSubmit = () => {\n    this.props.handleRegister(\n      this.state.username,\n      this.state.password,\n      this.state.email\n    );\n  }\n  \n  render = () => (\n    <div id=\"register-form-container\">\n      <form onSubmit={this.handleSubmit}>\n        <FieldGroup\n          id=\"formControlsText\"\n          label=\"Username:\"\n          type=\"text\"\n          value={this.state.username}\n          placeholder='username'\n          name='username'\n          onChange={this.handleChange}\n          autoFocus\n        />\n      \n        <FieldGroup\n          id=\"formControlsPassword\"\n          label=\"Password:\"\n          type=\"password\"\n          value={this.state.password}\n          placeholder='password'\n          name='password'\n          onChange={this.handleChange}\n        />\n        \n        <FieldGroup\n          id=\"formControlsEmail\"\n          label=\"Email:\"\n          type=\"email\"\n          value={this.state.email}\n          placeholder='email'\n          name='email'\n          onChange={this.handleChange}\n        />\n      \n        <div id=\"button-container\">\n          <FormButton\n            bsStyle='primary'\n            handleClick={this.handleSubmit}\n            loading={this.props.loading}\n            children='Register'\n            type='submit'\n          />\n        \n          <FormButton\n              bsStyle='danger'\n              handleClick={this.props.handleHide}\n              loading={this.props.loading}\n              children='Cancel'\n            />\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ModalRegisterForm;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport UserAuthModal from '../../components/UserAuthModal';\nimport ModalRegisterForm from '../../components/ModalForm/ModalRegisterForm';\nimport { hideUserAuthModal } from '../../actions/UserAuthModal';\nimport { makeUserRegisterRequest } from '../../actions/UserAuth';\n\nconst RegisterModalContainer = (props) => {\n  const {\n    handleHide,\n    handleRegister,\n    loading,\n    messageProps,\n  } = props;\n  \n  return (\n    <UserAuthModal\n      handleHide={handleHide}\n      title='Register'\n      messageProps={messageProps}\n      formComponent={\n        <ModalRegisterForm\n          handleRegister={handleRegister}\n          handleHide={handleHide}\n          loading={loading}\n        />\n      }\n    />\n  );\n}\n\nconst mapStateToProps = state => (\n  {\n    loading: state.userAuth.loading,\n  }\n);\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n  handleHide: () => dispatch(hideUserAuthModal()),\n  handleRegister: (username, password, email) =>\n    dispatch(makeUserRegisterRequest(username, password, email)),\n  }\n);\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegisterModalContainer);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport LoginModalContainer from './LoginModalContainer';\nimport RegisterModalContainer from './RegisterModalContainer';\n\nconst UserAuthModalContainer = ({displayType, messageProps}) => {\n  switch (displayType) {\n    case 'login':\n      return <LoginModalContainer messageProps={messageProps}/>;\n    case 'register':\n      return <RegisterModalContainer messageProps={messageProps}/>;\n    default:\n      return null;\n  }\n}\n\nconst mapStateToProps = state => (\n  {\n      displayType: state.userAuthModal.displayType,\n      messageProps: {\n        errorMessage: state.userAuthModal.errorMessage,\n        successMessage: state.userAuthModal.successMessage,\n      },\n  }\n);\n\nexport default connect(\n  mapStateToProps\n) (UserAuthModalContainer);\n","import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport { LoadingButton } from \"../Buttons\";\nimport \"./styles.css\";\n\nclass TextEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editorHtml: props.initialValue || \"\"\n    };\n\n    this.formats = [\n      \"header\",\n      \"font\",\n      \"size\",\n      \"bold\",\n      \"italic\",\n      \"underline\",\n      \"strike\",\n      \"blockquote\",\n      \"list\",\n      \"bullet\",\n      \"indent\",\n      \"code\"\n    ];\n\n    this.modules = {\n      toolbar: [\n        [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\", \"code\"],\n        [\n          { list: \"ordered\" },\n          { list: \"bullet\" },\n          { indent: \"-1\" },\n          { indent: \"+1\" }\n        ],\n        [\"clean\"]\n      ]\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.quillNode = React.createRef();\n  }\n\n  componentDidMount() {\n    if (!this.props.focusOnEditor) {\n      this.quillNode.current.focus();\n    }\n  }\n\n  handleChange(html) {\n    this.setState({\n      editorHtml: html\n    });\n  }\n\n  handleSubmitClick = editorHtml => {\n    this.setState({\n      editorHtml: \"\"\n    });\n\n    return this.props.handleSubmit(editorHtml);\n  };\n\n  render() {\n    const { placeholder, usage, onBlur, loading } = this.props;\n\n    let submitButtonWord = \"Submit\";\n    switch (usage) {\n      case \"create\":\n        submitButtonWord = \"Post\";\n        break;\n      case \"update\":\n        submitButtonWord = \"Edit\";\n        break;\n      default:\n        break;\n    }\n\n    return (\n      <Fragment>\n        <ReactQuill\n          value={this.state.editorHtml}\n          onChange={this.handleChange}\n          placeholder={placeholder || \"What are your thoughts?\"}\n          modules={this.modules}\n          formats={this.formats}\n          ref={this.quillNode}\n          onBlur={onBlur}\n        />\n        <LoadingButton\n          onClick={() => this.handleSubmitClick(this.state.editorHtml)}\n          className=\"submit-button\"\n          loading={loading}\n        >\n          {submitButtonWord}\n        </LoadingButton>\n      </Fragment>\n    );\n  }\n}\n\nTextEditor.propTypes = {\n  usage: PropTypes.string,\n  rootComment: PropTypes.bool,\n  placeholder: PropTypes.string,\n  initialValue: PropTypes.string,\n  onBlur: PropTypes.func,\n  handleSubmit: PropTypes.func\n};\n\nexport default TextEditor;\n","import React , {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\n\nimport TextEditor from '../TextEditor';\nimport FieldGroup from '../FieldGroup';\nimport { ErrorAlert } from '../AlertMessage';\nimport { withMaybe } from '../../utilities/HOC';\nimport FormButton from '../ModalForm/FormButton';\nimport './styles.css';\n\nclass CreatePost extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      title:'',\n    }\n    \n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  \n  handleTitleChange = (e) => this.setState({title: e.target.value});\n  \n  async handleSubmit(editorHtml) {\n    \n    try {\n      const postCreation = await this.props.handleCreatePost(\n        this.state.title,\n        editorHtml,\n        this.props.subredditTitle,\n      )\n      this.props.history.replace(`/r/${this.props.subredditTitle}`);\n    } catch {\n      this.forceUpdate()\n    }\n  }\n  \n  render() {\n    \n    const {\n      errorMessage,\n      loading,\n    } = this.props;\n      \n    const CreatePostErrorAlert = withMaybe((props) => props.children)(ErrorAlert);\n      \n    return (\n      <div className=\"create-post-container\">\n        <div className=\"alert-message-container\">\n          <CreatePostErrorAlert children={this.props.errorMessage}/>\n        </div>\n        <form>\n          <div className='title-input-container'>\n            <FieldGroup\n              id=\"create-post-title\"\n              placeholder='Title'\n              type='text'\n              value={this.state.title}\n              onChange={this.handleTitleChange}\n              name='username'\n            />\n          </div>\n\n          <TextEditor\n            handleCommentSubmit={this.handleSubmit}\n            usage=\"create\"\n            placeholder=\"Text (optional)\"\n          />\n\n        </form>\n      </div>\n  )\n  }\n}\n\nCreatePost.propTypes = {\n  errorMessage: PropTypes.string,\n  loading: PropTypes.bool,\n  subredditTitle: PropTypes.string,\n  handleCreatePost: PropTypes.func,\n};\n\nexport default withRouter(CreatePost);\n","import axios from \"axios\";\n\nimport {\n  POST_DETAIL_URL,\n  SUB_POST_LIST_URL,\n  CREATE_POST_URL\n} from \"../constants\";\nimport { tokenContextObj } from \"../apiUtils\";\n\n// Get the list of posts for a particular subreddit\nexport const getSubPostListApi = (subredditTitle, orderBy, username, token) => {\n  const params = { orderby: orderBy, username };\n  return axios\n    .get(SUB_POST_LIST_URL(subredditTitle), {\n      params,\n      ...tokenContextObj(token)\n    })\n    .then(response => response.data);\n};\n\nexport const createPostApi = (title, body, subredditTitle, token) => {\n  const data = { title, body };\n  return axios\n    .post(CREATE_POST_URL(subredditTitle), data, tokenContextObj(token))\n    .then(response => response.data);\n};\n\nexport const updatePostApi = (pk, body, token) => {\n  const data = { body };\n  return axios\n    .patch(POST_DETAIL_URL(pk), data, tokenContextObj(token))\n    .then(response => response.data);\n};\n\nexport const getPostDetailApi = postId =>\n  axios.get(POST_DETAIL_URL(postId)).then(response => response.data);\n\nexport const deletePostApi = (pk, token) => {\n  return axios\n    .delete(POST_DETAIL_URL(pk), tokenContextObj(token))\n    .then(response => response.data);\n};\n","import {\n  FETCH_POST_LIST_REQUEST,\n  FETCH_POST_LIST_SUCCESS,\n  FETCH_POST_LIST_FAILURE,\n  FETCH_POST_DETAIL_REQUEST,\n  FETCH_POST_DETAIL_SUCCESS,\n  FETCH_POST_DETAIL_FAILURE,\n  CREATE_POST_REQUEST,\n  CREATE_POST_SUCCESS,\n  CREATE_POST_FAILURE,\n  DELETE_POST_REQUEST,\n  DELETE_POST_SUCCESS,\n  DELETE_POST_FAILURE,\n  UPDATE_POST_REQUEST,\n  UPDATE_POST_SUCCESS,\n  UPDATE_POST_FAILURE,\n  API_SUB_POST_LIST,\n  API_CREATE_POST,\n  API_DELETE_POST,\n  API_POST_DETAIL,\n  TOGGLE_POST_EDITOR\n} from \"../actionTypes\";\n\nimport {\n  getSubPostListApi,\n  getPostDetailApi,\n  createPostApi,\n  deletePostApi,\n  updatePostApi\n} from \"../../api/Posts\";\nimport { getAuthUsername, getAuthUserToken } from \"../../reducers/userAuth\";\n\n// use redux-thunk for userAuth username\nexport const makeSubPostListRequest = (subredditTitle, orderBy) => (\n  dispatch,\n  getState\n) =>\n  dispatch({\n    type: API_SUB_POST_LIST,\n    types: {\n      request: FETCH_POST_LIST_REQUEST,\n      success: FETCH_POST_LIST_SUCCESS,\n      failure: FETCH_POST_LIST_FAILURE\n    },\n    callAPI: () =>\n      getSubPostListApi(\n        subredditTitle,\n        orderBy,\n        getAuthUsername(getState()),\n        getAuthUserToken(getState())\n      )\n  });\n\n// Using redux-thunk to get an auth token\nexport const makeCreatePostRequest = (title, body, subredditTitle) => (\n  dispatch,\n  getState\n) =>\n  dispatch({\n    type: API_CREATE_POST,\n    types: {\n      request: CREATE_POST_REQUEST,\n      success: CREATE_POST_SUCCESS,\n      failure: CREATE_POST_FAILURE\n    },\n    callAPI: () =>\n      createPostApi(title, body, subredditTitle, getState().userAuth.token)\n  });\n\n// Using redux-thunk to get an auth token\nexport const makeUpdatePostRequest = (pk, body) => (dispatch, getState) =>\n  dispatch({\n    type: API_CREATE_POST,\n    types: {\n      request: UPDATE_POST_REQUEST,\n      success: UPDATE_POST_SUCCESS,\n      failure: UPDATE_POST_FAILURE\n    },\n    callAPI: () => updatePostApi(pk, body, getState().userAuth.token)\n  });\n\nexport const makeDeletePostRequest = pk => (dispatch, getState) =>\n  dispatch({\n    type: API_DELETE_POST,\n    types: {\n      request: onDeletePostRequest(pk),\n      success: DELETE_POST_SUCCESS,\n      failure: DELETE_POST_FAILURE\n    },\n    callAPI: () => deletePostApi(pk, getState().userAuth.token)\n  });\n\n// Use a thunk action creator to get the pk added to the REQUEST action\nconst onDeletePostRequest = pk => dispatch =>\n  dispatch({\n    type: DELETE_POST_REQUEST,\n    pk\n  });\n\nexport const makePostDetailRequest = postId => ({\n  type: API_POST_DETAIL,\n  types: {\n    request: FETCH_POST_DETAIL_REQUEST,\n    success: FETCH_POST_DETAIL_SUCCESS,\n    failure: FETCH_POST_DETAIL_FAILURE\n  },\n  callAPI: () => getPostDetailApi(postId)\n});\n\nexport const togglePostEditor = () => ({\n  type: TOGGLE_POST_EDITOR\n});\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport CreatePost from '../../components/CreatePost';\nimport { makeCreatePostRequest } from '../../actions/Posts';\nimport {\n  getCreatePostError,\n  getCreatePostLoading,\n} from '../../reducers/createPost';\nimport {\n  getSubredditTitle,\n} from '../../reducers/subreddit';\n\nclass CreatePostContainer extends Component {\n\n  render() {\n    return <CreatePost {...this.props} />\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    handleCreatePost: (title, body, subredditTitle) =>\n      dispatch(makeCreatePostRequest(title, body, subredditTitle)),\n})\n\nconst mapStateToProps = (state) => ({\n    errorMessage: getCreatePostError(state),\n    loading: getCreatePostLoading(state),\n    subredditTitle: getSubredditTitle(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CreatePostContainer);\n","import React, { Component, Fragment } from 'react';\nimport { FaArrowUp, FaArrowDown } from 'react-icons/fa';\n\nimport './styles.css';\n\nclass Voter extends Component {\n  \n  upvotedStyle = {\n    color: '#cc3700',\n  }\n  \n  downvotedStyle = {\n    color: '#8DA8FF',\n  }\n  \n  render() {\n    \n    const {\n      upvotes,\n      displayState,\n      handleVote\n    } = this.props;\n    \n    return (\n      <div className='vote-container'>\n        <div className='voter-arrow upvoter'>\n          <span\n            style={displayState === 1 ? this.upvotedStyle : {}}\n            onClick={() => handleVote(1)}\n          >\n            <FaArrowUp />\n          </span>\n        </div>\n        <div\n          className='vote-count'\n          style={\n            displayState === 1\n              ? this.upvotedStyle\n              : displayState === -1\n                ? this.downvotedStyle\n                : {}\n          }          \n        >\n          {upvotes}\n        </div>\n        <div className='voter-arrow downvoter' >\n          <span\n            style={displayState === -1 ? this.downvotedStyle : {}}\n            onClick={() => handleVote(-1)}\n          >\n            <FaArrowDown />\n          </span>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Voter;\n","import {\n  VOTE_REQUEST,\n  VOTE_SUCCESS,\n  VOTE_FAILURE,\n  COMMENT_VOTE_SUCCESS,\n  POST_VOTE_SUCCESS,\n  API_VOTE,\n} from '../actionTypes';\n\nimport { voteApi } from '../../api/Voter';\n\n// use thunk to get token\nexport const makeVoteRequest = (voteData) =>\n  (dispatch, getState) =>\n    dispatch(\n      {\n        type: API_VOTE,\n        types: {\n          request: VOTE_REQUEST,\n          success: onVoteSuccess,\n          failure: VOTE_FAILURE,\n        },\n        callAPI: () => voteApi(\n          voteData,\n          getState().userAuth.token\n        ),\n      }\n    )\n\nconst onVoteSuccess = (data, getState, dispatch) => {\n  if (data.hasOwnProperty('comment')) {\n    return dispatch({\n      type: COMMENT_VOTE_SUCCESS,\n      data\n    })\n  } else if (data.hasOwnProperty('post')) {\n    return dispatch({\n      type: POST_VOTE_SUCCESS,\n      data\n    })\n  }\n  \n  throw new ReferenceError(\n    'Upvote is of unknown type',\n    'actions/Voter/index.js',\n    41\n  )\n}\n","import axios from 'axios';\n\nimport {\n  VOTE_URL,\n} from '../constants';\nimport { tokenContextObj } from '../apiUtils';\n\nexport const voteApi = (voteData, token) => {\n  // voteType: upvote(1), downvote(-1) or unvote(0)\n  // itemType: 'post' or 'comment'\n  // itemPk: pk of post or comment\n  const {\n    itemType,\n    itemPk: pk,\n    voteType,\n  } = voteData;\n  \n  let itemFn = null;\n  if (itemType === 'comment') {\n    itemFn = `t1_${pk}`\n  } else if (itemType === 'post') {\n    itemFn = `t2_${pk}`\n  };\n  \n  const data = {vote_type: voteType, item_fn: itemFn};\n  return axios.post(VOTE_URL, data, tokenContextObj(token))\n    .then(response => response.data)\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Voter from '../../components/Voter';\nimport { makeVoteRequest } from '../../actions/Voter';\n\nconst VoterContainer = ({voteDisplayState, handleVote, upvotes}) => (\n  <Voter\n    displayState={voteDisplayState}\n    handleVote={handleVote}\n    upvotes={upvotes}\n  />\n)\n\nconst mapDispatchToProps = (dispatch, ownProps) => (\n  {\n    handleVote: (voteType) => dispatch(\n      makeVoteRequest({\n      voteType,\n      itemType: ownProps.itemType,\n      itemPk: ownProps.itemPk,\n      })\n    ),\n  }\n)\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(VoterContainer);\n","import React from 'react';\nimport { FaEllipsisH } from 'react-icons/fa';\nimport { Dropdown, MenuItem } from 'react-bootstrap';\n\nimport './styles.css';\n\nconst EllipsisButton = ({children}) => (\n  \n  <Dropdown id=\"ellipsis-dropdown\" >\n    <Dropdown.Toggle noCaret className=\"toggle-button\">\n      <FaEllipsisH/>\n    </Dropdown.Toggle>\n    <Dropdown.Menu className=\"ellipsis-dropdown-menu\">\n      {children}\n    </Dropdown.Menu>\n  </Dropdown>\n)\n\nexport default EllipsisButton;\n","import React, { Component, Fragment } from \"react\";\nimport { Button, Tooltip, OverlayTrigger } from \"react-bootstrap\";\nimport { FaShare } from \"react-icons/fa\";\n\nimport \"./styles.css\";\n\nclass ShareButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showTooltip: false\n    };\n\n    this.copyNode = React.createRef();\n\n    this.copyTooltip = <Tooltip id=\"copy-tooltip\">Copied Link</Tooltip>;\n  }\n\n  toggleTooltip = () => {\n    this.setState({ showTooltip: !this.state.showTooltip });\n  };\n\n  copyToClipboard = e => {\n    this.copyNode.current.select();\n    document.execCommand(\"copy\");\n\n    this.toggleTooltip();\n    setTimeout(this.toggleTooltip, 4000);\n  };\n\n  render() {\n    const { shareUrl } = this.props;\n\n    return (\n      <Fragment>\n        <OverlayTrigger\n          placement=\"bottom\"\n          overlay={this.copyTooltip}\n          trigger=\"focus\"\n          delayHide={4000}\n        >\n          <Button\n            bsSize=\"xsmall\"\n            className=\"share-button\"\n            onClick={this.copyToClipboard}\n          >\n            <FaShare /> Share\n          </Button>\n        </OverlayTrigger>\n        <form>\n          <input\n            className=\"hidden-copy-input\"\n            readOnly\n            ref={this.copyNode}\n            value={shareUrl}\n            aria-hidden=\"true\"\n          />\n        </form>\n      </Fragment>\n    );\n  }\n}\n\nexport default ShareButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { Panel, Button, MenuItem } from 'react-bootstrap';\nimport { FaShare } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\n\nimport VoterContainer from '../../containers/VoterContainer';\nimport EllipsisButton from '../EllipsisButton';\nimport ShareButton from '../ShareButton';\nimport { withMaybe } from '../../utilities/HOC';\nimport './styles.css';\n\nclass PostPanel extends Component {\n  \n  handlePanelClick = (e) => {\n    const {\n      subredditTitle,\n      pk,\n      history,\n    } = this.props;\n    \n    if (e.target instanceof HTMLDivElement) {\n      history.push(`/r/${subredditTitle}/postDetail/${pk}`)\n    }\n  };\n  \n  render() {\n    const {\n      upvotes,\n      pk,\n      title,\n      subredditTitle,\n      posterUsername,\n      authUsername,\n      created,\n      voteDisplayState,\n      handleDeletePost,\n      history,\n    } = this.props;\n    \n    const AuthEllipsis = withMaybe(\n      (props) => props.showEllipsis\n    )(EllipsisButton);\n\n    return (\n      <div\n        className=\"post-segment-panel\"\n        name=\"postPanel\"\n        onClick={this.handlePanelClick}\n      >\n          <VoterContainer\n            upvotes={upvotes}\n            voteDisplayState={voteDisplayState || 0}\n            itemType={'post'}\n            itemPk={pk}\n          />\n\n        \n        <div className='post-segment-text-container'>\n          <div className=\"post-segment-title\">\n            <Link\n              id=\"post-title\"\n              to={\"/r/\" + subredditTitle + \"/postDetail/\" + pk}\n            >\n              {title}\n            </Link>\n          </div>\n          \n          <div className='post-segment-info'>\n            <strong>\n              <Link to={`/r/${subredditTitle}`}>\n                r/{subredditTitle}\n              </Link>\n            </strong>\n            - posted by:\n            <a href=\"#\"> u/{posterUsername} </a>\n            {created}\n          </div>\n          \n          <div className='post-segment-links'>\n            <Link to={`/r/${subredditTitle}/postDetail/${pk}/comments`}>\n              <Button\n                bsSize='xsmall'\n                className='post-buttons'\n              >\n                Comments\n              </Button>\n            </Link>\n\n            <ShareButton shareUrl={`${window.location}/postDetail/${pk}`}/>\n\n            <AuthEllipsis\n              showEllipsis={authUsername === posterUsername}\n            >\n              <MenuItem\n                eventKey={1}\n                onSelect={handleDeletePost}\n              >\n                delete\n              </MenuItem>\n                      \n              <MenuItem\n                eventKey={2}\n                onSelect={() => null}\n              >\n                edit\n              </MenuItem>\n\n\n            </AuthEllipsis>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPostPanel.propTypes = {\n  upvotes: PropTypes.number,\n  pk: PropTypes.number,\n  title: PropTypes.string,\n  subredditTitle: PropTypes.string,\n  posterUsername: PropTypes.string,\n  authUsername: PropTypes.string,\n  created: PropTypes.string,\n  voteDisplayState: PropTypes.number,\n  handleDeletePost: PropTypes.func,\n}\n\nexport default withRouter(PostPanel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport PostPanel from '../../components/PostPanel';\nimport { getPostById } from '../../reducers/postList';\nimport { getAuthUsername } from '../../reducers/userAuth';\nimport { makeDeletePostRequest } from '../../actions/Posts';\n\n\nconst PostPanelContainer = (props) => {\n  const { post, handleDeletePost, authUsername, usage } = props;\n  const {\n    upvotes,\n    pk,\n    title,\n    subredditTitle,\n    posterUsername,\n    created,\n    voteDisplayState,\n  } = post;\n  \n  return (\n    <PostPanel\n      {...{\n        upvotes,\n        pk,\n        title,\n        subredditTitle,\n        posterUsername,\n        authUsername,\n        created,\n        voteDisplayState,\n        handleDeletePost,\n      }}\n    />\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const {\n    postPk,\n    usage,\n  } = ownProps;\n\n  return ({\n      post: getPostById(state, postPk),\n      authUsername: getAuthUsername(state),\n    })\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  handleDeletePost: () => dispatch(makeDeletePostRequest(ownProps.postPk)),\n})\n\nPostPanelContainer.propTypes = {\n  post: PropTypes.shape({\n    upvotes: PropTypes.number,\n    pk: PropTypes.number,\n    title: PropTypes.string,\n    subredditTitle: PropTypes.string,\n    posterUsername: PropTypes.string,\n    created: PropTypes.string,\n    voteDisplayState: PropTypes.oneOf([0,-1,1]),\n  }),\n  handleDeletePost: PropTypes.func,\n  authUsername: PropTypes.string,\n  usage: PropTypes.oneOf(['subreddit', 'search']),\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PostPanelContainer);\n","import React from \"react\";\n\nconst EmptyPostList = () => (\n  <div className=\"empty-list-content\">\n    <h2>Such Empty!</h2>\n  </div>\n);\n\nexport default EmptyPostList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\n\nimport PostPanelContainer from '../../containers/PostPanelContainer';\nimport { ErrorAlert } from '../AlertMessage';\nimport { PanelListLoader } from '../Loaders';\nimport EmptyPostList from './EmptyPostList';\nimport './styles.css';\n\nconst PostList = (props) => {\n  const {\n    loading,\n    error,\n    allPosts,\n  } = props;\n\n  \n  if (error) {\n    return(\n      <ErrorAlert>\n        {error}\n      </ErrorAlert>\n    )\n  }\n  \n  let postList;\n  if (loading) {\n    postList =  <PanelListLoader panelNumber={8}/>;\n  } else if (allPosts.length === 0 ){\n    postList = <EmptyPostList />;\n  } else{\n      const postPanels = allPosts.map((postPk) => {\n        return <PostPanelContainer postPk={postPk} key={postPk} />});\n      postList = <ul>{postPanels}</ul>\n  }\n  \n  return (\n    <div className='postlist-content'>\n        {postList}\n    </div>\n  );\n}\n\nPostList.propTypes = {\n  loading: PropTypes.bool,\n  error: PropTypes.string,\n  allPosts: PropTypes.arrayOf(PropTypes.number),\n}\n\nexport default withRouter(PostList);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { makeSubPostListRequest } from \"../../actions/Posts\";\nimport PostList from \"../../components/PostList\";\n\nclass PostListContainer extends Component {\n  componentDidMount() {\n    // If undefined converts to null\n    const subredditTitle = this.props.match.params.subredditTitle || \"home\";\n\n    this.props.fetchPostList(subredditTitle, \"new\");\n  }\n\n  componentDidUpdate(prevProps) {\n    // If undefined converts to null\n    const subredditTitle = this.props.match.params.subredditTitle || \"home\";\n\n    if (\n      this.props.match.params.subredditTitle !==\n      prevProps.match.params.subredditTitle\n    ) {\n      this.props.fetchPostList(subredditTitle, \"new\");\n    }\n  }\n\n  render() {\n    return <PostList {...this.props} />;\n  }\n}\n\nconst mapStateToProps = state => ({\n  loading: state.postList.loading,\n  error: state.postList.error,\n  allPosts: state.postList.allPosts\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchPostList: (subredditTitle, orderBy) =>\n    dispatch(makeSubPostListRequest(subredditTitle, orderBy))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PostListContainer);\n","import React from 'react';\n\nimport { Link } from 'react-router-dom';\nimport './styles.css';\n\nconst PostInfoLine = ({title, poster}) => (\n  <div className='post-info-line'>\n    <div className='link-to-sub'>\n      <Link to={`/r/${title}`}>\n        {`r/${title}`}\n      </Link>\n    </div>\n    <span id='divider'>-</span>\n    <div className='link-to-user'>\n      <Link to={`/u/${poster}`}>\n        {`Posted by u/${poster}`}\n      </Link>\n    </div>\n  </div>\n)\n\nexport default PostInfoLine;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport TextEditor from '../../components/TextEditor'\nimport {\n  makeUpdatePostRequest,\n} from '../../actions/Posts';\nimport {\n  getPostDetailBody\n} from '../../reducers/postDetail';\nimport {\n  getEditPostLoading,\n} from '../../reducers/editPost';\n\n\nconst PostEditorContainer = (props) => {\n  const {\n    handleSubmit,\n    body,\n    loading,\n  } = props;\n  \n  return (\n    <TextEditor\n      handleSubmit={handleSubmit}\n      placeholder={body}\n      initialValue={body}\n      usage=\"update\"\n      loading={loading}\n    />\n  )\n}\n\nPostEditorContainer.propTypes = {\n  onEditorSubmit: PropTypes.func,\n  handleSubmit: PropTypes.func,\n  body: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  loading: getEditPostLoading(state),\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  handleSubmit: async (body) => {\n    try {\n      await dispatch(makeUpdatePostRequest(ownProps.pk, body));\n    } catch {\n    }\n    // Callback to effect some change when submission occurs (like hide the editor)\n    ownProps.onEditorSubmitSuccess && ownProps.onEditorSubmitSuccess();\n    \n  },\n});\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PostEditorContainer);\n","import axios from 'axios';\n\nimport {\n POST_COMMENT_TREES_URL,\n COMMENT_LIST_URL,\n VOTE_URL,\n COMMENT_DETAIL_URL,\n} from '../constants'\nimport { tokenContextObj } from '../apiUtils';\n\nexport const getCommentTreeApi = (postPk, username) => {\n  const config = username ? {params: {username}} : {};\n  \n  return axios.get(POST_COMMENT_TREES_URL(postPk), config)\n      .then(response => response.data)\n}\n\nexport const createCommentApi = (commentData, token) => {\n  const {\n    body,\n    parentPk,\n    rootComment,\n  } = commentData;\n  // See backend, a 'fullname' is constructed to specify the parent of the comment\n  const parentFn = rootComment ? `t2_${parentPk}` : `t1_${parentPk}`;\n  const data = {body, parent_fn:parentFn};\n  return axios.post(COMMENT_LIST_URL, data, tokenContextObj(token))\n    .then(response => response.data)\n}\n\nexport const deleteCommentApi = (pk, token) => {\n  return axios.delete(COMMENT_DETAIL_URL(pk), tokenContextObj(token))\n    .then(response => response.data)\n}\n\nexport const updateCommentApi = (commentData, token) => {\n  return axios.patch(\n    COMMENT_DETAIL_URL(commentData.pk),\n    commentData,\n    tokenContextObj(token)\n  )\n    .then(response => response.data)\n}\n\nexport const commentVoteApi = (voteData, token) => {\n  const {\n    vote_type,\n    comment_pk: comment,\n  } = voteData;\n  \n  const data = {vote_type, item_fn: `t1_${comment}`};//comment};\n  return axios.post(VOTE_URL, data, tokenContextObj(token))\n    .then(response => response.data)\n}\n","import { normalize, schema } from 'normalizr';\n\nimport {\n  FETCH_POST_COMMENT_TREES_REQUEST,\n  FETCH_POST_COMMENT_TREES_SUCCESS,\n  FETCH_POST_COMMENT_TREES_FAILURE,\n  API_POST_COMMENT_TREES,\n  CREATE_COMMENT_REQUEST,\n  CREATE_COMMENT_SUCCESS,\n  CREATE_COMMENT_FAILURE,\n  API_CREATE_COMMENT,\n  DELETE_COMMENT_REQUEST,\n  DELETE_COMMENT_SUCCESS,\n  DELETE_COMMENT_FAILURE,\n  API_DELETE_COMMENT,\n  UPDATE_COMMENT_REQUEST,\n  UPDATE_COMMENT_SUCCESS,\n  UPDATE_COMMENT_FAILURE,\n  API_UPDATE_COMMENT,\n  COMMENT_VOTE_SUCCESS,\n} from '../actionTypes';\nimport {\n  createCommentApi,\n  getCommentTreeApi,\n  commentVoteApi,\n  deleteCommentApi,\n  updateCommentApi,\n} from '../../api/Comments'\n\n// Use redux-thunk to get the userAuth username\nexport const makeCommentTreeRequest = (postPk) =>\n  (dispatch, getState) => dispatch(\n    {\n      type: API_POST_COMMENT_TREES,\n      types: {\n        request: FETCH_POST_COMMENT_TREES_REQUEST,\n        success: normalizeCommentTreeOnSuccess,\n        failure: FETCH_POST_COMMENT_TREES_FAILURE,\n      },\n      callAPI: () => getCommentTreeApi(postPk, getState().userAuth.username),\n    }\n  )\n  \n// When comment trees are successfully fetched, normalize them for redux store\nconst normalizeCommentTreeOnSuccess = (nestedComments, getState, dispatch) => {\n  if (nestedComments.length === 0) {\n    return dispatch({\n      type: FETCH_POST_COMMENT_TREES_SUCCESS,\n      data: {entities: {comments: {}, posters: {} }, result: [] },\n    })\n  }\n  const posterSchema = new schema.Entity('posters', {}, { idAttribute: 'pk' });\n  const commentSchema = new schema.Entity(\n    'comments',\n    {poster: posterSchema},\n    { idAttribute: 'pk',}\n  );\n  const commentListSchema = new schema.Array(commentSchema);\n  commentSchema.define({ children: commentListSchema })\n  const normalizedComments = normalize(nestedComments, commentListSchema);\n  Object.entries(normalizedComments.entities.comments).forEach(([id, comment]) => {\n    const {vote_state, ...newComment} = comment;\n    normalizedComments.entities.comments[id] = {\n      ...newComment,\n      voteDisplayState: vote_state\n    };\n  });\n  return dispatch({\n    type: FETCH_POST_COMMENT_TREES_SUCCESS,\n    data: normalizedComments\n  })\n}\n\n// Use redux-thunk to grab the userAuth token\nexport const makeCreateCommentRequest = (commentData) =>\n  (dispatch, getState) =>\n    dispatch(\n      {\n        type: API_CREATE_COMMENT,\n        types: {\n          request: CREATE_COMMENT_REQUEST,\n          success: CREATE_COMMENT_SUCCESS,\n          failure: CREATE_COMMENT_FAILURE,\n        },\n        callAPI: () => createCommentApi(\n          commentData,\n          getState().userAuth.token\n        ),\n      }\n    )\n    \n// Use redux-thunk to grab the userAuth token\nexport const makeDeleteCommentRequest = (pk) =>\n  (dispatch, getState) =>\n    dispatch(\n      {\n        type: API_DELETE_COMMENT,\n        types: {\n          request: DELETE_COMMENT_REQUEST,\n          success: DELETE_COMMENT_SUCCESS,\n          failure: DELETE_COMMENT_FAILURE,\n        },\n        callAPI: () => deleteCommentApi(\n          pk,\n          getState().userAuth.token\n        ),\n      }\n    )\n    \n// Use redux-thunk to grab the userAuth token\nexport const makeUpdateCommentRequest = (commentData) =>\n  (dispatch, getState) =>\n    dispatch(\n      {\n        type: API_UPDATE_COMMENT,\n        types: {\n          request: UPDATE_COMMENT_REQUEST,\n          success: UPDATE_COMMENT_SUCCESS,\n          failure: UPDATE_COMMENT_FAILURE,\n        },\n        callAPI: () => updateCommentApi(\n          commentData,\n          getState().userAuth.token\n        ),\n      }\n    )\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport TextEditor from \"../../components/TextEditor\";\nimport {\n  makeCreateCommentRequest,\n  makeUpdateCommentRequest\n} from \"../../actions/Comments\";\nimport { getPostDetailPk } from \"../../reducers/postDetail\";\n\nconst CommentEditorContainer = props => {\n  return <TextEditor {...props} />;\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  // should the editor be focues on after mounting?\n  focusOnEditor: ownProps.rootComment\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  // This is used for two occasions, creating and updating a comment.\n  switch (ownProps.usage) {\n    case \"create\": {\n      const handleSubmit = commentBody =>\n        dispatch(\n          makeCreateCommentRequest({\n            body: commentBody,\n            parentPk: ownProps.parentPk,\n            rootComment: ownProps.rootComment\n          })\n        );\n      return { handleSubmit };\n    }\n\n    case \"update\": {\n      const handleSubmit = body => {\n        // onEditorSubmit is a hook so that the parent component\n        // can effect changes beyond the action dispatch, e.g. toggle editor\n        ownProps.onEditorSubmit && ownProps.onEditorSubmit();\n\n        return dispatch(\n          makeUpdateCommentRequest({\n            body,\n            pk: ownProps.pk\n          })\n        );\n      };\n      return { handleSubmit };\n    }\n\n    default:\n      return {};\n  }\n};\n\n// const mergeProps = (stateProps, dispatchProps, ownProps) => {\n//   // This mess is caused by the late determination of parentPk in mapStateToProps\n//   if (ownProps.usage === 'create') {\n//     const handleSubmit = dispatchProps.handleCreateCommentWrapper(\n//       stateProps.parentPk\n//     );\n//\n//     return ({\n//       ...stateProps,\n//       ...ownProps,\n//       handleSubmit,\n//     });\n//   }\n//   return {...ownProps, ...stateProps, ...dispatchProps};\n// }\n\nCommentEditorContainer.propTypes = {\n  usage: PropTypes.oneOf([\"update\", \"create\"]).isRequired,\n  rootComment: PropTypes.bool,\n  commentParentPk: PropTypes.number,\n  pk: PropTypes.number,\n  postPk: PropTypes.number,\n  handleCreateComment: PropTypes.func,\n  onEditorSubmit: PropTypes.func,\n  handleSubmit: PropTypes.func.isRequired\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommentEditorContainer);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './styles.css';\n\nconst CommentInfoLine = (props) => {\n  \n  const {\n    posterUsername,\n    upvotes,\n    created,\n    deleted,\n  } = props;\n  \n  const upvotesLabel = upvotes^2===1 ? 'point' : 'points';\n  const username = deleted\n    ? \"comment deleted\"\n    : <Link to={\"/\"}>\n        {`u/${posterUsername}`}\n      </Link>;\n      \n  return (\n    <div className=\"poster-info-container\">\n      <span>{username}</span>\n      <span>{deleted || `${upvotes} ${upvotesLabel}`}</span>\n      <span>-</span>\n      <span>{`created: ${created}`}</span>\n    </div>\n  )\n}\n\nexport default CommentInfoLine;\n","import React, { Component, Fragment } from \"react\";\nimport { FaComment } from \"react-icons/fa\";\nimport { Button, MenuItem } from \"react-bootstrap\";\nimport PropTypes from \"prop-types\";\n\nimport EllipsisButton from \"../../EllipsisButton\";\nimport { withMaybe } from \"../../../utilities/HOC\";\nimport \"./styles.css\";\n\nclass CommentBody extends Component {\n  render() {\n    const {\n      body,\n      posterUsername,\n      authUsername,\n      pk,\n      handleDeleteComment,\n      handleToggleReplyEditor,\n      handleToggleUpdateEditor\n    } = this.props;\n\n    const AuthEllipsis = withMaybe(\n      props => props.authUsername === props.posterUsername\n    )(EllipsisButton);\n\n    return (\n      <Fragment>\n        <div\n          className=\"comment-body-container\"\n          dangerouslySetInnerHTML={{ __html: body }}\n        />\n        <div className=\"comment-links\">\n          <div className=\"comment-icon\">\n            <FaComment />\n          </div>\n          <Button\n            bsSize=\"xsmall\"\n            className=\"comment-buttons\"\n            onClick={handleToggleReplyEditor}\n          >\n            Reply\n          </Button>\n          {/* This may be nice but for now we don't have a comment detail page\n            <Button bsSize='xsmall' className='comment-buttons'>\n              Share\n            </Button>\n          */}\n          <AuthEllipsis\n            {...{\n              authUsername,\n              posterUsername\n            }}\n          >\n            <MenuItem eventKey={2} onSelect={handleToggleUpdateEditor}>\n              edit\n            </MenuItem>\n            <MenuItem eventKey={1} onSelect={handleDeleteComment}>\n              delete\n            </MenuItem>\n          </AuthEllipsis>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nCommentBody.propTypes = {\n  body: PropTypes.string,\n  posterUsername: PropTypes.string,\n  authUsername: PropTypes.string,\n  pk: PropTypes.number,\n  handleDeleteComment: PropTypes.func,\n  handleToggleReplyEditor: PropTypes.func,\n  handleToggleUpdateEditor: PropTypes.func\n};\n\nexport default CommentBody;\n","import React, { Component, Fragment } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { FaComment } from \"react-icons/fa\";\nimport { compose } from \"recompose\";\n\nimport \"./styles.css\";\nimport CommentEditorContainer from \"../../../containers/CommentEditorContainer\";\nimport CommentInfoLine from \"../CommentInfoLine\";\nimport CommentBody from \"../CommentBody\";\nimport VoterContainer from \"../../../containers/VoterContainer\";\nimport { withMaybe, withEither } from \"../../../utilities/HOC\";\n\nclass ExpandedComment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showReplyEditor: false,\n      showUpdateEditor: false\n    };\n\n    this.handleToggleReplyEditor = this.handleToggleReplyEditor.bind(this);\n    this.handleToggleUpdateEditor = this.handleToggleUpdateEditor.bind(this);\n  }\n\n  handleToggleReplyEditor() {\n    this.setState({\n      showReplyEditor: !this.state.showReplyEditor\n    });\n  }\n\n  handleToggleUpdateEditor() {\n    this.setState({\n      showUpdateEditor: !this.state.showUpdateEditor\n    });\n  }\n\n  render() {\n    const {\n      childrenList,\n      body,\n      posterUsername,\n      authUsername,\n      upvotes,\n      created,\n      pk,\n      voteDisplayState,\n      deleted,\n      handleToggleCollapse: handleCollapse,\n      handleDeleteComment\n    } = this.props;\n\n    const ReplyEditorWithHide = withMaybe(props => props.showEditor)(\n      CommentEditorContainer\n    );\n\n    const CommentBodyWithDeleteAndUpdateEditor = compose(\n      withMaybe(props => !props.deleted),\n      withEither(props => props.showUpdateEditor, CommentEditorContainer)\n    )(CommentBody);\n\n    const updateEditorProps = {};\n\n    return (\n      <div className=\"comment-tree-content\">\n        <div className=\"comment-voter-collapser\">\n          {deleted || (\n            <VoterContainer\n              voteDisplayState={voteDisplayState}\n              itemType={\"comment\"}\n              itemPk={pk}\n            />\n          )}\n          <span\n            onClick={() => handleCollapse()}\n            className=\"thread-line-container\"\n          >\n            <div className=\"thread-line\" />\n          </span>\n        </div>\n        <div className=\"comment-panel\">\n          <div className=\"comment-info-line-container\">\n            <CommentInfoLine\n              {...{ posterUsername, upvotes, created, deleted }}\n            />\n          </div>\n\n          <CommentBodyWithDeleteAndUpdateEditor\n            {...{\n              body,\n              posterUsername,\n              authUsername,\n              pk,\n              deleted,\n              handleDeleteComment\n            }}\n            usage=\"update\"\n            initialValue={body}\n            onBlur={this.handleToggleUpdateEditor}\n            onEditorSubmit={this.handleToggleUpdateEditor}\n            showUpdateEditor={this.state.showUpdateEditor}\n            handleToggleReplyEditor={this.handleToggleReplyEditor}\n            handleToggleUpdateEditor={this.handleToggleUpdateEditor}\n          />\n\n          <ReplyEditorWithHide\n            showEditor={this.state.showReplyEditor}\n            rootComment={false}\n            parentPk={pk}\n            usage=\"create\"\n            onBlur={this.handleToggleReplyEditor}\n          />\n          <div className=\"children-container\">{childrenList}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExpandedComment;\n","import React from 'react';\nimport { IoIosAddCircle } from 'react-icons/io';\nimport { Link } from 'react-router-dom';\n\nimport CommentInfoLine from '../CommentInfoLine';\nimport './styles.css';\n\nconst CollapsedComment = (props) => {\n  const {\n    posterUsername,\n    upvotes,\n    created,\n    deleted,\n    handleToggleCollapse:handleExpansion,\n  } = props;\n  \n  return (\n    <div className=\"comment-tree-content collapsed-container\">\n      <div onClick={() => handleExpansion()} className=\"expander\">\n        <IoIosAddCircle />\n      </div>\n      <div className='collapsed-links'>\n        <CommentInfoLine {...{posterUsername, upvotes, created, deleted,}}/>\n      </div>\n    </div>\n  )\n}\n\nexport default CollapsedComment;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.css';\nimport ExpandedComment from './ExpandedComment';\nimport CollapsedComment from './CollapsedComment';\nimport { withEither } from '../../utilities/HOC';\nimport CommentContainer from '../../containers/CommentContainer';\n\n\nclass Comment extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      collapsed: false,\n    }\n    \n    this.handleToggleCollapse = this.handleToggleCollapse.bind(this);\n  }\n  \n  handleToggleCollapse() {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    })\n  }\n    \n  render() {\n    \n    const {\n      childrenPk,\n      body,\n      upvotes,\n      created,\n      pk,\n      voteDisplayState,\n      deleted,\n      posterUsername,\n      authUsername,\n      handleDeleteComment,\n    } = this.props;\n\n    let childrenList = [];\n    if (Array.isArray(childrenPk) && childrenPk.length) {\n      childrenList =\n        childrenPk.map(childPk => (\n            <CommentContainer\n              pk={childPk}\n              key={childPk}\n            />\n        ))\n      }\n    \n    const CollapsibleComment = withEither(\n      (props) => props.collapsed,\n      CollapsedComment\n    )(ExpandedComment);\n        \n    return (\n      <CollapsibleComment\n        {\n          ...{\n            childrenList,\n            body,\n            upvotes,\n            created,\n            pk,\n            voteDisplayState,\n            deleted,\n            posterUsername,\n            authUsername,\n            handleDeleteComment,\n          }\n        }\n        handleToggleCollapse={this.handleToggleCollapse}\n        collapsed={this.state.collapsed}\n      />\n    )\n  }\n}\n\nComment.propTypes = {\n  childrenPk: PropTypes.arrayOf(PropTypes.number),\n  body: PropTypes.string,\n  upvotes: PropTypes.number,\n  created: PropTypes.string,\n  pk: PropTypes.number,\n  voteDisplayState: PropTypes.number,\n  deleted: PropTypes.bool,\n  posterUsername: PropTypes.string,\n  authUsername: PropTypes.string,\n  handleDeleteComment: PropTypes.func,\n}\n\nexport default Comment;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Comment from '../../components/Comment';\nimport {\n  getCommentById,\n  getPosterByCommentId, } from '../../reducers/comments';\nimport { getAuthUsername } from '../../reducers/userAuth';\nimport { makeDeleteCommentRequest } from '../../actions/Comments';\n\nconst CommentContainer = (props) => {\n  \n  const {\n    commentData,\n    posterData,\n    authUsername,\n    handleDeleteComment,\n    pk\n    } = props;\n  const {\n    children: childrenPk,\n    body,\n    upvotes,\n    created,\n    voteDisplayState,\n    deleted,\n  } = commentData;\n  const posterUsername  = (posterData && posterData.username) || authUsername;\n  return (\n    <Comment\n      {...{\n        childrenPk,\n        body,\n        upvotes,\n        created,\n        pk,\n        voteDisplayState,\n        deleted,\n        posterUsername,\n        authUsername,\n        handleDeleteComment,\n        }}\n    />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n      commentData: getCommentById(state, ownProps.pk),\n      posterData: getPosterByCommentId(state, ownProps.pk),\n      authUsername: getAuthUsername(state),\n  }\n)\n\nconst mapDispatchToProps = (dispatch, ownProps) => (\n  {\n    handleDeleteComment: () => dispatch(makeDeleteCommentRequest(ownProps.pk)),\n  }\n)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommentContainer);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { PanelListLoader } from \"../Loaders\";\nimport { ErrorAlert } from \"../AlertMessage\";\nimport CommentContainer from \"../../containers/CommentContainer\";\nimport CommentEditorContainer from \"../../containers/CommentEditorContainer\";\nimport { withMaybe, withEither } from \"../../utilities/HOC\";\n\nconst CommentTreeList = props => {\n  const {\n    rootCommentPks,\n    error,\n    loading,\n    postPk,\n    createCommentError,\n    createCommentLoading\n  } = props;\n\n  if (error) {\n    return <ErrorAlert>{error}</ErrorAlert>;\n  }\n\n  let commentRootList = [];\n  if (Array.isArray(rootCommentPks) && rootCommentPks.length) {\n    commentRootList = rootCommentPks.map(rootPk => (\n      <CommentContainer pk={rootPk} key={rootPk} />\n    ));\n  }\n\n  // Error with root comment creation\n  const AlertOnError = withMaybe(props => props.children)(ErrorAlert);\n\n  const CommentListWithLoading = withEither(\n    props => props.loading,\n    PanelListLoader\n  )(() => commentRootList);\n\n  return (\n    <div className=\"comment-tree-list-container\">\n      <AlertOnError children={createCommentError} />\n      <div className=\"top-comment-editor\">\n        <CommentEditorContainer\n          parentPk={postPk}\n          rootComment={true}\n          usage=\"create\"\n        />\n      </div>\n\n      <ul>\n        <CommentListWithLoading loading={loading} panelNumber={10} />\n      </ul>\n    </div>\n  );\n};\n\nCommentTreeList.propTypes = {\n  rootCommentPks: PropTypes.arrayOf(PropTypes.number),\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  createCommentError: PropTypes.string,\n  createCommentLoading: PropTypes.bool\n};\n\nexport default CommentTreeList;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport {\n  makeCommentTreeRequest,\n  makeCreateCommentRequest,\n} from '../../actions/Comments';\nimport CommentTreeList from '../../components/CommentTreeList';\nimport { getRootCommentPks, getCommentsLoading, } from '../../reducers/comments';\nimport { getPostDetailPk } from '../../reducers/postDetail';\n\nclass CommentTreeListContainer extends Component {\n  componentDidMount() {\n    this.props.fetchCommentList(this.props.match.params.postId)\n  }\n  \n  \n  \n  render() {\n    return <CommentTreeList {...this.props} />\n  }\n}\n\nconst mapStateToProps = state => (\n  {\n    loading: getCommentsLoading(state),\n    rootCommentPks: getRootCommentPks(state),\n    error: state.comments.error,\n    createCommentError: state.comments.createCommentError,\n    createCommentLoading: state.comments.createCommentLoading,\n    createdComment: state.comments.createdComment,\n    postPk: getPostDetailPk(state),\n  }\n)\n\nconst mapDispatchToProps = dispatch => (\n  {\n    fetchCommentList: (postId) => dispatch(makeCommentTreeRequest(postId)),\n  }\n)\n\n\nexport default  withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommentTreeListContainer));\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, Button, MenuItem, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { FaShare } from 'react-icons/fa';\nimport { withRouter } from 'react-router';\n\n\nimport './styles.css';\nimport { PanelListLoader, BlockLoader } from '../Loaders';\nimport PostInfoLine from './PostInfoLine';\nimport PostEditorContainer from '../../containers/PostEditorContainer';\nimport CommentTreeListContainer from '../../containers/CommentTreeListContainer';\nimport EllipsisButton from '../EllipsisButton';\nimport ShareButton from '../ShareButton';\nimport { withMaybe } from '../../utilities/HOC';\n\nclass PostDetail extends Component{\n  constructor(props) {\n    super(props);\n    \n    this.commentListNode = React.createRef()\n    \n    this.handleDelete = this.handleDelete.bind(this);\n  }\n  \n  componentDidMount() {\n    if (this.props.commentScroll) {\n      this.scrollToCommentList();\n    } else {\n      window.scrollTo(0,0);\n    }\n  }\n  \n  // Only scroll to comments when first navigating to page\n  componentDidUpdate(prevProps) {\n    if (this.props.commentScroll && (prevProps.pk !== this.props.pk)) {\n      this.scrollToCommentList();\n    }\n  }\n  \n  scrollToCommentList = () => {\n    window.scrollTo({\n      top: this.commentListNode.current.offsetTop,\n      behavior: \"smooth\",\n    })\n  }\n  \n  async handleDelete() {\n    // Make sure the post is actually deleted before rerouting which\n    // causes the list to reload\n    await this.props.handleDeletePost();\n    this.props.history.replace(`/r/${this.props.subredditTitle}`);\n  }\n  \n  render () {\n    const {\n      subredditTitle,\n      posterUsername,\n      authUsername,\n      title,\n      pk,\n      body,\n      loading,\n      showPostEditor,\n      handleDeletePost,\n      togglePostEditor,\n    } = this.props;\n    \n    const AuthEllipsis = withMaybe(\n      (props) => props.showEllipsis\n    )(EllipsisButton);\n    \n    return (\n      <div className='post-detail-content'>\n        {loading\n          ? <BlockLoader/>\n          :\n            <Fragment>\n            <PostInfoLine title={subredditTitle} poster={posterUsername} />\n            <div className='post-title-container'>\n              {title}\n            </div>\n            <div className='post-body-container'>\n              {showPostEditor\n                ? (\n                  <PostEditorContainer\n                    {...{body, pk,}}\n                    onEditorSubmitSuccess={togglePostEditor}\n                  />\n                )\n                : (\n                  <div\n                    className='body-html'\n                    dangerouslySetInnerHTML={{__html: body}}\n                  />\n                )\n              }\n            </div>\n            \n            <div className='link-bar-container'>\n              <ShareButton shareUrl={`${window.location.href}`} />\n              \n              <AuthEllipsis\n                showEllipsis={authUsername===posterUsername}\n              >\n                <MenuItem\n                  eventKey={1}\n                  onSelect={this.handleDelete}\n                >\n                  delete\n                </MenuItem>\n                <MenuItem\n                  eventKey={2}\n                  onSelect={togglePostEditor}\n                >\n                  edit\n                </MenuItem>\n                \n              </AuthEllipsis>\n              \n            </div>\n            </Fragment>\n          }\n          \n          <div className=\"post-comments-container\" ref={this.commentListNode}>\n            <CommentTreeListContainer />\n          </div>\n\n      </div>\n    )\n  }\n}\n\nPostDetail.propTypes = {\n  title: PropTypes.string,\n  posterUsername: PropTypes.string,\n  authUsername: PropTypes.string,\n  postTitle: PropTypes.string,\n  postBody: PropTypes.string,\n  loading: PropTypes.bool,\n  showPostEditor: PropTypes.bool,\n  commentScroll: PropTypes.bool,\n  handleDeletePost: PropTypes.func,\n  togglePostEditor: PropTypes.func,\n}\n\nexport default withRouter(PostDetail);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport PostDetail from '../../components/PostDetail';\nimport {\n  makePostDetailRequest,\n  makeDeletePostRequest,\n  togglePostEditor,\n} from '../../actions/Posts';\nimport {\n  getPostDetailPk,\n  getPostDetailBody,\n  getPostDetailTitle,\n  getPostDetailPosterUsername,\n  getPostDetailLoading,\n} from '../../reducers/postDetail';\nimport { getAuthUsername, } from '../../reducers/userAuth';\nimport {\n  getPostEditorShowState,\n  getEditPostError,\n} from '../../reducers/editPost';\n\n\nclass PostDetailContainer extends Component {\n  componentDidMount() {\n    const postId = this.props.match.params.postId || null;\n    this.props.fetchPostDetail(postId);\n  }\n  \n  componentWillUnmount() {\n    if (this.props.showPostEditor) {\n      this.props.togglePostEditor();\n    }\n  }\n  \n  render() {\n        \n    const {\n      body,\n      title,\n      subredditTitle,\n      posterUsername,\n      authUsername,\n      pk,\n      loading,\n      showPostEditor,\n      editPostError,\n      commentScroll,\n      handleDeletePost,\n      togglePostEditor,\n    } = this.props;\n    \n    return <PostDetail {...{\n        body,\n        title,\n        subredditTitle,\n        posterUsername,\n        authUsername,\n        pk,\n        loading,\n        showPostEditor,\n        editPostError,\n        commentScroll,\n        handleDeletePost,\n        togglePostEditor,\n      }} />;\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    subredditTitle: ownProps.title,\n    body: getPostDetailBody(state),\n    title: getPostDetailTitle(state),\n    posterUsername: getPostDetailPosterUsername(state),\n    pk: getPostDetailPk(state),\n    loading: getPostDetailLoading(state),\n    showPostEditor: getPostEditorShowState(state),\n    editPostError: getEditPostError(state),\n    authUsername: getAuthUsername(state),\n  }\n)\n\nconst mapDispatchToProps = (dispatch, ownProps,) => (\n  {\n    fetchPostDetail: (postId) => dispatch(makePostDetailRequest(postId)),\n    handleDeletePost: () => dispatch(makeDeletePostRequest(\n        Number(ownProps.match.params.postId)\n      )),\n    togglePostEditor: () => dispatch(togglePostEditor()),\n  }\n)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PostDetailContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\n\nimport TextEditor from '../TextEditor';\nimport FieldGroup from  '../FieldGroup';\nimport { ErrorAlertWithError } from '../AlertMessage';\nimport FormButton from '../ModalForm/FormButton';\nimport './styles.css';\n\nclass CreateSubreddit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: '',\n      title: '',\n    };\n    \n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  \n  handleTitleChange = (e) => this.setState({title: e.target.value});\n  \n  handleDescriptionChange = (e) =>\n    this.setState({description: e.target.value});\n    \n  async handleSubmit() {\n    try {\n      await this.props.handleCreateSubreddit({\n        title: this.state.title,\n        description: this.state.description,\n      });\n      this.props.history.push(`/r/${this.state.title}`);\n    }\n    catch {\n      this.forceUpdate();\n    }\n  }\n    \n  render() {\n    const {\n      errorMessage,\n      loading,\n      handleCreateSubreddit,\n    } = this.props;\n    \n    return (\n      <div className=\"create-subreddit-container\">\n        <div className=\"content-container\">\n          <div className=\"form-container\">\n            \n            <h2>Create a Subreddit</h2>\n            <hr/>\n            <ErrorAlertWithError>\n              {errorMessage}\n            </ErrorAlertWithError>\n            \n            <form>\n              <div className=\"input-container\">\n                <FieldGroup\n                  id=\"title-input\"\n                  placeholder=\"title\"\n                  type='text'\n                  value={this.state.title}\n                  onChange={this.handleTitleChange}\n                  name='title'\n                />\n                <FieldGroup\n                  id=\"description-input\"\n                  placeholder=\"description\"\n                  componentClass=\"textarea\"\n                  onChange={this.handleDescriptionChange}\n                />\n              </div>\n              <div className=\"submit-button\">\n                <FormButton\n                  bsStyle=\"primary\"\n                  handleClick={this.handleSubmit}\n                  loading={loading}\n                >\n                  create\n                </FormButton>\n              </div>\n            </form>\n          </div>\n        </div>\n          \n      </div>\n    )\n  }\n}\n\nCreateSubreddit.propTypes = {\n  loading: PropTypes.bool,\n  error: PropTypes.string,\n  handleCreateSubreddit: PropTypes.func,\n}\n\nexport default withRouter(CreateSubreddit);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport CreateSubreddit from '../../components/CreateSubreddit';\nimport { makeCreateSubredditRequest } from '../../actions/Subreddit';\nimport {\n  getCreateSubredditError,\n  getCreateSubredditLoading,\n} from '../../reducers/createSubreddit';\n\n\nclass CreateSubredditContainer extends Component {\n  \n  render() {\n    const {\n      errorMessage,\n      loading,\n      handleCreateSubreddit,\n    } = this.props;\n    \n    return (\n      <CreateSubreddit {...{\n        errorMessage,\n        loading,\n        handleCreateSubreddit,\n      }}/>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  errorMessage: getCreateSubredditError(state),\n  loading: getCreateSubredditLoading(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleCreateSubreddit: (subredditData) =>\n    dispatch(makeCreateSubredditRequest(subredditData)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CreateSubredditContainer);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { SubscriptionButton } from \"../../components/Buttons\";\nimport {\n  getAuthUsername,\n  getAuthUserSubredditTitles\n} from \"../../reducers/userAuth\";\nimport { makeSubSubscriptionRequest } from \"../../actions/Subreddit\";\n\nconst SubscriptionButtonContainer = props => {\n  const {\n    authenticatedUsername,\n    userSubscriptions,\n    subredditTitle,\n    makeSubscriptionRequest\n  } = props;\n\n  return (\n    <SubscriptionButton\n      {...{\n        authenticatedUsername,\n        userSubscriptions,\n        subredditTitle,\n        makeSubscriptionRequest\n      }}\n    />\n  );\n};\n\nconst mapStateToProps = state => ({\n  authenticatedUsername: getAuthUsername(state),\n  userSubscriptions: getAuthUserSubredditTitles(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  makeSubscriptionRequest: (subredditTitle, subAction) =>\n    dispatch(makeSubSubscriptionRequest(subredditTitle, subAction))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubscriptionButtonContainer);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport SubscriptionButtonContainer from \"../../containers/SubscriptionButtonContainer\";\nimport \"./styles.css\";\n\nconst SubredditPanel = ({ subreddit, handleSubredditRedirect }) => (\n  <div className=\"subreddit-panel\" onClick={handleSubredditRedirect}>\n    <div className=\"title-and-subscriptions\">\n      <h1>r/{subreddit.title}</h1>\n      <p>{subreddit.members.length} Subscribers </p>\n    </div>\n\n    <div className=\"description\">\n      <p>{subreddit.description}</p>\n    </div>\n\n    <div className=\"subscription-button\">\n      <SubscriptionButtonContainer subredditTitle={subreddit.title} />\n    </div>\n  </div>\n);\n\nSubredditPanel.propTypes = {\n  subreddit: PropTypes.shape({\n    title: PropTypes.string,\n    members: PropTypes.arrayOf(PropTypes.string),\n    description: PropTypes.string\n  })\n};\n\nexport default SubredditPanel;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\n\nimport SubredditPanel from \"../../components/SubredditPanel\";\nimport { getSearchSubredditById } from \"../../reducers/search\";\nimport { SUBREDDIT_URL } from \"../../urls\";\n\nclass SubredditPanelContainer extends Component {\n  handleSubredditRedirect = () =>\n    this.props.history.push(SUBREDDIT_URL(this.props.subreddit.title));\n\n  render() {\n    const { subreddit } = this.props;\n\n    return (\n      <SubredditPanel\n        subreddit={subreddit}\n        handleSubredditRedirect={this.handleSubredditRedirect}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, { pk }) => ({\n  subreddit: getSearchSubredditById(state, pk)\n});\n\nexport default withRouter(connect(mapStateToProps)(SubredditPanelContainer));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport SubredditPanelContainer from \"../../containers/SubredditPanelContainer\";\nimport \"./styles.css\";\n\nconst SubredditList = props => {\n  const { loading, error, allSubreddits } = props;\n\n  const subredditList = allSubreddits.map(subredditPk => (\n    <SubredditPanelContainer key={subredditPk} pk={subredditPk} />\n  ));\n\n  return (\n    <div className=\"subreddit-search-results-container\">{subredditList}</div>\n  );\n};\n\nexport default SubredditList;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"react-bootstrap\";\n\nimport PostList from \"../PostList\";\nimport SubredditList from \"../SubredditList\";\nimport NavSelectorButton from \"../Buttons/NavSelectorButton\";\nimport { withEither } from \"../../utilities/HOC\";\nimport { compose } from \"recompose\";\nimport \"./styles.css\";\n\nconst SearchResults = props => {\n  const {\n    allPosts,\n    allSubreddits,\n    allUsers,\n    loading,\n    error,\n    query,\n    resultsView,\n    changeResultsView\n  } = props;\n\n  const ConditionalResultsList = compose(\n    withEither(props => props.view === \"users\", () => null),\n    withEither(props => props.view === \"subreddits\", SubredditList)\n  )(PostList);\n\n  return (\n    <div className=\"search-results-container\">\n      <div className=\"search-navbar\">\n        <div className=\"search-query-name\">\n          <h2>Search results for: \"{query}\"</h2>\n        </div>\n\n        <div className=\"search-view-selector\">\n          <NavSelectorButton\n            active={resultsView === \"posts\"}\n            onClick={() => changeResultsView(\"posts\")}\n          >\n            Posts\n          </NavSelectorButton>\n\n          <NavSelectorButton\n            active={resultsView === \"subreddits\"}\n            onClick={() => changeResultsView(\"subreddits\")}\n          >\n            Subreddits\n          </NavSelectorButton>\n\n          <NavSelectorButton\n            active={resultsView === \"users\"}\n            onClick={() => changeResultsView(\"users\")}\n          >\n            Users\n          </NavSelectorButton>\n        </div>\n      </div>\n\n      <div className=\"results-list-container\">\n        <ConditionalResultsList\n          {...{\n            allPosts,\n            allSubreddits,\n            allUsers,\n            error,\n            loading\n          }}\n          view={resultsView}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SearchResults;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport SearchResults from \"../../components/SearchResults\";\nimport { makeSearchRequest } from \"../../actions/Search\";\nimport { getAllPosts } from \"../../reducers/postList\";\nimport {\n  getSearchError,\n  getSearchQuery,\n  getSearchLoading,\n  getSearchAllSubreddits,\n  getSearchAllUsers,\n  getSearchResultsView\n} from \"../../reducers/search\";\nimport { setSearchResultsView } from \"../../actions/Search\";\n\nclass SearchResultsContainer extends Component {\n  componentDidMount() {\n    this.props.searchRequest(this.props.query);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.query !== this.props.query) {\n      this.props.searchRequest(this.props.query);\n    }\n  }\n\n  render() {\n    const {\n      allPosts,\n      allSubreddits,\n      allUsers,\n      error,\n      loading,\n      query,\n      resultsView,\n      changeResultsView\n    } = this.props;\n\n    return (\n      <SearchResults\n        {...{\n          allPosts,\n          allSubreddits,\n          allUsers,\n          loading,\n          error,\n          query,\n          resultsView,\n          changeResultsView\n        }}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  query: getSearchQuery(state),\n  allPosts: getAllPosts(state),\n  allSubreddits: getSearchAllSubreddits(state),\n  allUsers: getSearchAllUsers(state),\n  error: getSearchError(state),\n  loading: getSearchLoading(state),\n  resultsView: getSearchResultsView(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  searchRequest: q => dispatch(makeSearchRequest(q)),\n  changeResultsView: view => dispatch(setSearchResultsView(view))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SearchResultsContainer);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport {\n  Route,\n  BrowserRouter,\n  Switch\n} from \"react-router-dom\";\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport './index.css';\nimport * as urls from './urls';\nimport { store, persistor } from './store';\nimport SubredditContainer from './containers/SubredditContainer';\nimport NavBarContainer from './containers/NavBarContainer';\nimport UserAuthModalContainer from './containers/UserAuthModalContainer';\nimport CreatePostContainer from './containers/CreatePostContainer';\nimport PostListContainer from './containers/PostListContainer';\nimport PostDetailContainer from './containers/PostDetailContainer';\nimport CreateSubredditContainer from './containers/CreateSubredditContainer';\nimport SearchResultsContainer from './containers/SearchResultsContainer';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <div className=\"whole-page\">\n          <NavBarContainer />\n          <UserAuthModalContainer />\n          <div className='main-layout'>\n              <Switch>\n                <Route\n                  exact\n                  path=\"/r/:subredditTitle/:createPost\"\n                  render={ (props) =>\n                    <SubredditContainer\n                      {...props}\n                      skinny\n                      primaryComponent={(props) =>\n                        <CreatePostContainer {...props} />}\n                    />}\n                />\n                <Route\n                  exact\n                  path=\"/r/:subredditTitle/postDetail/:postId\"\n                  render={ (props) =>\n                    <SubredditContainer\n                      {...props}\n                      primaryComponent={(props) =>\n                        <PostDetailContainer {...props} />}\n                    />}\n                />\n              // Go directly to comments but otherwise same as postDetail\n                <Route\n                  exact\n                  path=\"/r/:subredditTitle/postDetail/:postId/comments\"\n                  render={ (props) =>\n                    <SubredditContainer\n                      {...props}\n                      primaryComponent={(props) =>\n                        <PostDetailContainer {...props} commentScroll />}\n                    />}\n                />\n                <Route\n                  exact\n                  path=\"/r/:subredditTitle\"\n                  render={ (props) =>\n                    <SubredditContainer\n                      {...props}\n                      primaryComponent={(props) =>\n                        <PostListContainer {...props} />}\n                    />}\n                />\n                <Route\n                  exact\n                  path=\"/createSubreddit\"\n                  render={\n                    (props) =>\n                    <CreateSubredditContainer\n                        match={props.match}\n                        history={props.history}\n                    />\n                  }\n                />\n                <Route\n                  exact\n                  path={urls.SEARCH_URL}\n                  render={\n                    (props) =>\n                    <SearchResultsContainer\n                        match={props.match}\n                        history={props.history}\n                    />\n                  }\n                />\n                <Route\n                  exact\n                  path=\"/\"\n                  render={ (props) =>\n                    <SubredditContainer\n                      {...props}\n                      primaryComponent={(props) =>\n                        <PostListContainer {...props} />}\n                    />}\n                />\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}